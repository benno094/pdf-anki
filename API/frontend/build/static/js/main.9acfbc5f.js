/*! For license information please see main.9acfbc5f.js.LICENSE.txt */
(()=>{"use strict";var t={219:(t,e,i)=>{var r=i(86),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(t){return r.isMemo(t)?o:a[t.$$typeof]||n}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,h=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,i,r){if("string"!==typeof i){if(f){var n=p(i);n&&n!==f&&t(e,n,r)}var o=h(i);u&&(o=o.concat(u(i)));for(var a=c(e),y=c(i),b=0;b<o.length;++b){var g=o[b];if(!s[g]&&(!r||!r[g])&&(!y||!y[g])&&(!a||!a[g])){var m=d(i,g);try{l(e,g,m)}catch(_){}}}}return e}},123:t=>{var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==r.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(s){return!1}}()?Object.assign:function(t,n){for(var s,o,a=function(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))i.call(s,l)&&(a[l]=s[l]);if(e){o=e(s);for(var h=0;h<o.length;h++)r.call(s,o[h])&&(a[o[h]]=s[o[h]])}}return a}},82:(t,e)=>{var i="function"===typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,l=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.suspense_list"):60120,y=i?Symbol.for("react.memo"):60115,b=i?Symbol.for("react.lazy"):60116,g=i?Symbol.for("react.block"):60121,m=i?Symbol.for("react.fundamental"):60117,_=i?Symbol.for("react.responder"):60118,v=i?Symbol.for("react.scope"):60119;function w(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case h:case u:case s:case a:case o:case p:return t;default:switch(t=t&&t.$$typeof){case l:case d:case b:case y:case c:return t;default:return e}}case n:return e}}}function S(t){return w(t)===u}e.AsyncMode=h,e.ConcurrentMode=u,e.ContextConsumer=l,e.ContextProvider=c,e.Element=r,e.ForwardRef=d,e.Fragment=s,e.Lazy=b,e.Memo=y,e.Portal=n,e.Profiler=a,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||w(t)===h},e.isConcurrentMode=S,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===s},e.isLazy=function(t){return w(t)===b},e.isMemo=function(t){return w(t)===y},e.isPortal=function(t){return w(t)===n},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===s||t===u||t===a||t===o||t===p||t===f||"object"===typeof t&&null!==t&&(t.$$typeof===b||t.$$typeof===y||t.$$typeof===c||t.$$typeof===l||t.$$typeof===d||t.$$typeof===m||t.$$typeof===_||t.$$typeof===v||t.$$typeof===g)},e.typeOf=w},86:(t,e,i)=>{t.exports=i(82)},202:(t,e,i)=>{var r=i(123),n="function"===typeof Symbol&&Symbol.for,s=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,h=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,b="function"===typeof Symbol&&Symbol.iterator;function g(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function v(t,e,i){this.props=t,this.context=e,this.refs=_,this.updater=i||m}function w(){}function S(t,e,i){this.props=t,this.context=e,this.refs=_,this.updater=i||m}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(g(85));this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=v.prototype;var I=S.prototype=new w;I.constructor=S,r(I,v.prototype),I.isPureReactComponent=!0;var B={current:null},A=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,i){var r,n={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)A.call(e,r)&&!T.hasOwnProperty(r)&&(n[r]=e[r]);var c=arguments.length-2;if(1===c)n.children=i;else if(1<c){for(var l=Array(c),h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps)void 0===n[r]&&(n[r]=c[r]);return{$$typeof:s,type:t,key:o,ref:a,props:n,_owner:B.current}}function x(t){return"object"===typeof t&&null!==t&&t.$$typeof===s}var D=/\/+/g,M=[];function F(t,e,i,r){if(M.length){var n=M.pop();return n.result=t,n.keyPrefix=e,n.func=i,n.context=r,n.count=0,n}return{result:t,keyPrefix:e,func:i,context:r,count:0}}function N(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function C(t,e,i,r){var n=typeof t;"undefined"!==n&&"boolean"!==n||(t=null);var a=!1;if(null===t)a=!0;else switch(n){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case s:case o:a=!0}}if(a)return i(r,t,""===e?"."+L(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=e+L(n=t[c],c);a+=C(n,l,i,r)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=b&&t[b]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(n=t.next()).done;)a+=C(n=n.value,l=e+L(n,c++),i,r);else if("object"===n)throw i=""+t,Error(g(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return a}function U(t,e,i){return null==t?0:C(t,"",e,i)}function L(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function k(t,e){t.func.call(t.context,e,t.count++)}function E(t,e,i){var r=t.result,n=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?R(t,r,i,(function(t){return t})):null!=t&&(x(t)&&(t=function(t,e){return{$$typeof:s,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,n+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+i)),r.push(t))}function R(t,e,i,r,n){var s="";null!=i&&(s=(""+i).replace(D,"$&/")+"/"),U(t,E,e=F(e,s,r,n)),N(e)}var z={current:null};function P(){var t=z.current;if(null===t)throw Error(g(321));return t}var j={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:B,IsSomeRendererActing:{current:!1},assign:r};e.PureComponent=S},43:(t,e,i)=>{t.exports=i(202)}},e={};function i(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,i),s.exports}i(219);var r,n,s,o,a,c,l,h,u,d=i(43);!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(r||(r={})),function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(n||(n={})),function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(s||(s={})),function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(o||(o={})),function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(a||(a={})),function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(c||(c={})),function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(l||(l={})),function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.Float=3]="Float",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct=13]="Struct",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Dictionary=-1]="Dictionary",t[t.Int8=-2]="Int8",t[t.Int16=-3]="Int16",t[t.Int32=-4]="Int32",t[t.Int64=-5]="Int64",t[t.Uint8=-6]="Uint8",t[t.Uint16=-7]="Uint16",t[t.Uint32=-8]="Uint32",t[t.Uint64=-9]="Uint64",t[t.Float16=-10]="Float16",t[t.Float32=-11]="Float32",t[t.Float64=-12]="Float64",t[t.DateDay=-13]="DateDay",t[t.DateMillisecond=-14]="DateMillisecond",t[t.TimestampSecond=-15]="TimestampSecond",t[t.TimestampMillisecond=-16]="TimestampMillisecond",t[t.TimestampMicrosecond=-17]="TimestampMicrosecond",t[t.TimestampNanosecond=-18]="TimestampNanosecond",t[t.TimeSecond=-19]="TimeSecond",t[t.TimeMillisecond=-20]="TimeMillisecond",t[t.TimeMicrosecond=-21]="TimeMicrosecond",t[t.TimeNanosecond=-22]="TimeNanosecond",t[t.DenseUnion=-23]="DenseUnion",t[t.SparseUnion=-24]="SparseUnion",t[t.IntervalDayTime=-25]="IntervalDayTime",t[t.IntervalYearMonth=-26]="IntervalYearMonth"}(h||(h={})),function(t){t[t.OFFSET=0]="OFFSET",t[t.DATA=1]="DATA",t[t.VALIDITY=2]="VALIDITY",t[t.TYPE=3]="TYPE"}(u||(u={}));const[p,f]=(()=>{const t=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw t()}return e.asIntN=()=>{throw t()},e.asUintN=()=>{throw t()},"undefined"!==typeof BigInt?[BigInt,!0]:[e,!1]})(),[y,b]=(()=>{const t=()=>{throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),[g,m]=(()=>{const t=()=>{throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw t()}static from(){throw t()}constructor(){throw t()}},!1]})(),_=t=>"number"===typeof t,v=t=>"boolean"===typeof t,w=t=>"function"===typeof t,S=t=>null!=t&&Object(t)===t,I=t=>S(t)&&w(t.then),B=t=>S(t)&&w(t[Symbol.iterator]),A=t=>S(t)&&w(t[Symbol.asyncIterator]),T=t=>S(t)&&S(t.schema),O=t=>S(t)&&"done"in t&&"value"in t,x=t=>S(t)&&w(t.stat)&&_(t.fd),D=t=>S(t)&&F(t.body),M=t=>"_getDOMStream"in t&&"_getNodeStream"in t,F=t=>S(t)&&w(t.cancel)&&w(t.getReader)&&!M(t),N=t=>S(t)&&w(t.read)&&w(t.pipe)&&v(t.readable)&&!M(t),C=t=>S(t)&&w(t.clear)&&w(t.bytes)&&w(t.position)&&w(t.setPosition)&&w(t.capacity)&&w(t.getBufferIdentifier)&&w(t.createLong);function U(t){if(null===t)return"null";if(undefined===t)return"undefined";switch(typeof t){case"number":case"bigint":return`${t}`;case"string":return`"${t}"`}return"function"===typeof t[Symbol.toPrimitive]?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof y||t instanceof g?`[${[...t].map((t=>U(t)))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,((t,e)=>"bigint"===typeof e?`${e}`:e))}function L(t,e,i,r){return new(i||(i=Promise))((function(n,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}Object.create;function k(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function E(t){return this instanceof E?(this.v=t,this):new E(t)}function R(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=i.apply(t,e||[]),s=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",(function(t){return function(e){return Promise.resolve(e).then(t,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function o(t,e){n[t]&&(r[t]=function(e){return new Promise((function(i,r){s.push([t,e,i,r])>1||a(t,e)}))},e&&(r[t]=e(r[t])))}function a(t,e){try{(i=n[t](e)).value instanceof E?Promise.resolve(i.value.v).then(c,l):h(s[0][2],i)}catch(r){h(s[0][3],r)}var i}function c(t){a("next",t)}function l(t){a("throw",t)}function h(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function z(t){var e,i;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,n){e[r]=t[r]?function(e){return(i=!i)?{value:E(t[r](e)),done:!1}:n?n(e):e}:n}}function P(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=k(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(e){return new Promise((function(r,n){(function(t,e,i,r){Promise.resolve(r).then((function(e){t({value:e,done:i})}),e)})(r,n,(e=t[i](e)).done,e.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;const j=new TextDecoder("utf-8"),V=t=>j.decode(t),$=new TextEncoder,H=t=>$.encode(t),W="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Y(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.byteLength;const n=t.byteLength,s=new Uint8Array(t.buffer,t.byteOffset,n),o=new Uint8Array(e.buffer,e.byteOffset,Math.min(r,n));return s.set(o,i),t}function K(t,e){const i=function(t){const e=t[0]?[t[0]]:[];let i,r,n,s;for(let o,a,c=0,l=0,h=t.length;++c<h;)o=e[l],a=t[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset?a&&(e[++l]=a):(({byteOffset:i,byteLength:n}=o),({byteOffset:r,byteLength:s}=a),i+n<r||r+s<i?a&&(e[++l]=a):e[l]=new Uint8Array(o.buffer,i,r-i+s));return e}(t),r=i.reduce(((t,e)=>t+e.byteLength),0);let n,s,o,a=0,c=-1;const l=Math.min(e||Number.POSITIVE_INFINITY,r);for(const h=i.length;++c<h;){if(n=i[c],s=n.subarray(0,Math.min(n.length,l-a)),l<=a+s.length){s.length<n.length?i[c]=n.subarray(s.length):s.length===n.length&&c++,o?Y(o,s,a):o=s;break}Y(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),i.slice(c),r-(o?o.byteLength:0)]}function J(t,e){let i=O(e)?e.value:e;return i instanceof t?t===Uint8Array?new t(i.buffer,i.byteOffset,i.byteLength):i:i?("string"===typeof i&&(i=H(i)),i instanceof ArrayBuffer||i instanceof W?new t(i):C(i)?J(t,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new t(0):new t(i.buffer,i.byteOffset,i.byteLength/t.BYTES_PER_ELEMENT):t.from(i)):new t(0)}const X=t=>J(Int32Array,t),q=t=>J(Uint8Array,t),G=t=>(t.next(),t);function*Z(t,e){const i=function*(t){yield t},r="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof W?i(e):B(e)?e:i(e);return yield*G(function*(e){let i=null;do{i=e.next(yield J(t,i))}while(!i.done)}(r[Symbol.iterator]())),new t}function Q(t,e){return R(this,arguments,(function*(){if(I(e))return yield E(yield E(yield*z(P(Q(t,yield E(e))))));const i=function(t){return R(this,arguments,(function*(){yield yield E(yield E(t))}))},r="string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof W?i(e):B(e)?function(t){return R(this,arguments,(function*(){yield E(yield*z(P(G(function*(t){let e=null;do{e=t.next(yield null===e||void 0===e?void 0:e.value)}while(!e.done)}(t[Symbol.iterator]())))))}))}(e):A(e)?e:i(e);return yield E(yield*z(P(G(function(e){return R(this,arguments,(function*(){let i=null;do{i=yield E(e.next(yield yield E(J(t,i))))}while(!i.done)}))}(r[Symbol.asyncIterator]()))))),yield E(new t)}))}function tt(t,e,i){if(0!==t){i=i.slice(0,e+1);for(let r=-1;++r<=e;)i[r]+=t}return i}const et=Symbol.for("isArrowBigNum");function it(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return 0===i.length?Object.setPrototypeOf(J(this.TypedArray,t),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(t,...i),this.constructor.prototype)}function rt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return it.apply(this,e)}function nt(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return it.apply(this,e)}function st(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return it.apply(this,e)}function ot(t){const{buffer:e,byteOffset:i,length:r,signed:n}=t,s=new g(e,i,r),o=n&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=o?BigInt(1):BigInt(0),c=BigInt(0);if(o){for(const t of s)a+=~t*(BigInt(1)<<BigInt(32)*c++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*c++);return a}let at,ct;function lt(t){let e="";const i=new Uint32Array(2);let r=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);const n=new Uint32Array((r=new Uint16Array(r).reverse()).buffer);let s=-1;const o=r.length-1;do{for(i[0]=r[s=0];s<o;)r[s++]=i[1]=i[0]/10,i[0]=(i[0]-10*i[1]<<16)+r[s];r[s]=i[1]=i[0]/10,i[0]=i[0]-10*i[1],e=`${i[0]}${e}`}while(n[0]||n[1]||n[2]||n[3]);return null!==e&&void 0!==e?e:"0"}it.prototype[et]=!0,it.prototype.toJSON=function(){return`"${at(this)}"`},it.prototype.valueOf=function(){return ot(this)},it.prototype.toString=function(){return at(this)},it.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return ot(this);case"string":return at(this);case"default":return ct(this)}return at(this)},Object.setPrototypeOf(rt.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(nt.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(st.prototype,Object.create(Uint32Array.prototype)),Object.assign(rt.prototype,it.prototype,{constructor:rt,signed:!0,TypedArray:Int32Array,BigIntArray:y}),Object.assign(nt.prototype,it.prototype,{constructor:nt,signed:!1,TypedArray:Uint32Array,BigIntArray:g}),Object.assign(st.prototype,it.prototype,{constructor:st,signed:!0,TypedArray:Uint32Array,BigIntArray:g}),f?(ct=t=>8===t.byteLength?new t.BigIntArray(t.buffer,t.byteOffset,1)[0]:lt(t),at=t=>8===t.byteLength?`${new t.BigIntArray(t.buffer,t.byteOffset,1)[0]}`:lt(t)):(at=lt,ct=at);class ht{static new(t,e){switch(e){case!0:return new rt(t);case!1:return new nt(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case y:return new rt(t)}return 16===t.byteLength?new st(t):new nt(t)}static signed(t){return new rt(t)}static unsigned(t){return new nt(t)}static decimal(t){return new st(t)}constructor(t,e){return ht.new(t,e)}}var ut,dt,pt,ft,yt,bt,gt,mt,_t,vt,wt,St,It,Bt,At,Tt,Ot,xt,Dt,Mt;class Ft{static isNull(t){return(null===t||void 0===t?void 0:t.typeId)===h.Null}static isInt(t){return(null===t||void 0===t?void 0:t.typeId)===h.Int}static isFloat(t){return(null===t||void 0===t?void 0:t.typeId)===h.Float}static isBinary(t){return(null===t||void 0===t?void 0:t.typeId)===h.Binary}static isUtf8(t){return(null===t||void 0===t?void 0:t.typeId)===h.Utf8}static isBool(t){return(null===t||void 0===t?void 0:t.typeId)===h.Bool}static isDecimal(t){return(null===t||void 0===t?void 0:t.typeId)===h.Decimal}static isDate(t){return(null===t||void 0===t?void 0:t.typeId)===h.Date}static isTime(t){return(null===t||void 0===t?void 0:t.typeId)===h.Time}static isTimestamp(t){return(null===t||void 0===t?void 0:t.typeId)===h.Timestamp}static isInterval(t){return(null===t||void 0===t?void 0:t.typeId)===h.Interval}static isList(t){return(null===t||void 0===t?void 0:t.typeId)===h.List}static isStruct(t){return(null===t||void 0===t?void 0:t.typeId)===h.Struct}static isUnion(t){return(null===t||void 0===t?void 0:t.typeId)===h.Union}static isFixedSizeBinary(t){return(null===t||void 0===t?void 0:t.typeId)===h.FixedSizeBinary}static isFixedSizeList(t){return(null===t||void 0===t?void 0:t.typeId)===h.FixedSizeList}static isMap(t){return(null===t||void 0===t?void 0:t.typeId)===h.Map}static isDictionary(t){return(null===t||void 0===t?void 0:t.typeId)===h.Dictionary}static isDenseUnion(t){return Ft.isUnion(t)&&t.mode===n.Dense}static isSparseUnion(t){return Ft.isUnion(t)&&t.mode===n.Sparse}get typeId(){return h.NONE}}ut=Symbol.toStringTag,Ft[ut]=((Mt=Ft.prototype).children=null,Mt.ArrayType=Array,Mt[Symbol.toStringTag]="DataType");class Nt extends Ft{toString(){return"Null"}get typeId(){return h.Null}}dt=Symbol.toStringTag,Nt[dt]=(t=>t[Symbol.toStringTag]="Null")(Nt.prototype);class Ct extends Ft{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return h.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?y:g}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}pt=Symbol.toStringTag,Ct[pt]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Ct.prototype);class Ut extends Ct{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(class extends Ct{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(class extends Ct{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(Ut.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(class extends Ct{constructor(){super(!0,64)}get ArrayType(){return y}}.prototype,"ArrayType",{value:y}),Object.defineProperty(class extends Ct{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(class extends Ct{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Ct{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(class extends Ct{constructor(){super(!1,64)}get ArrayType(){return g}}.prototype,"ArrayType",{value:g});class Lt extends Ft{constructor(t){super(),this.precision=t}get typeId(){return h.Float}get ArrayType(){switch(this.precision){case s.HALF:return Uint16Array;case s.SINGLE:return Float32Array;case s.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}ft=Symbol.toStringTag,Lt[ft]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(Lt.prototype);Object.defineProperty(class extends Lt{constructor(){super(s.HALF)}}.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(class extends Lt{constructor(){super(s.SINGLE)}}.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(class extends Lt{constructor(){super(s.DOUBLE)}}.prototype,"ArrayType",{value:Float64Array});class kt extends Ft{constructor(){super()}get typeId(){return h.Binary}toString(){return"Binary"}}yt=Symbol.toStringTag,kt[yt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(kt.prototype);class Et extends Ft{constructor(){super()}get typeId(){return h.Utf8}toString(){return"Utf8"}}bt=Symbol.toStringTag,Et[bt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(Et.prototype);class Rt extends Ft{constructor(){super()}get typeId(){return h.Bool}toString(){return"Bool"}}gt=Symbol.toStringTag,Rt[gt]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(Rt.prototype);class zt extends Ft{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;super(),this.scale=t,this.precision=e,this.bitWidth=i}get typeId(){return h.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}mt=Symbol.toStringTag,zt[mt]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(zt.prototype);class Pt extends Ft{constructor(t){super(),this.unit=t}get typeId(){return h.Date}toString(){return`Date${32*(this.unit+1)}<${o[this.unit]}>`}}_t=Symbol.toStringTag,Pt[_t]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Pt.prototype);class jt extends Ft{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return h.Time}toString(){return`Time${this.bitWidth}<${a[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return y}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}vt=Symbol.toStringTag,jt[vt]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(jt.prototype);class Vt extends Ft{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return h.Timestamp}toString(){return`Timestamp<${a[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}wt=Symbol.toStringTag,Vt[wt]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(Vt.prototype);class $t extends Ft{constructor(t){super(),this.unit=t}get typeId(){return h.Interval}toString(){return`Interval<${c[this.unit]}>`}}St=Symbol.toStringTag,$t[St]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))($t.prototype);class Ht extends Ft{constructor(t){super(),this.children=[t]}get typeId(){return h.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}It=Symbol.toStringTag,Ht[It]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(Ht.prototype);class Wt extends Ft{constructor(t){super(),this.children=t}get typeId(){return h.Struct}toString(){return`Struct<{${this.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}Bt=Symbol.toStringTag,Wt[Bt]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(Wt.prototype);class Yt extends Ft{constructor(t,e,i){super(),this.mode=t,this.children=i,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce(((t,e,i)=>(t[e]=i)&&t||t),Object.create(null))}get typeId(){return h.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map((t=>`${t.type}`)).join(" | ")}>`}}At=Symbol.toStringTag,Yt[At]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Yt.prototype);class Kt extends Ft{constructor(t){super(),this.byteWidth=t}get typeId(){return h.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}Tt=Symbol.toStringTag,Kt[Tt]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(Kt.prototype);class Jt extends Ft{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return h.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}Ot=Symbol.toStringTag,Jt[Ot]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(Jt.prototype);class Xt extends Ft{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.children=[t],this.keysSorted=e}get typeId(){return h.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map((t=>`${t.name}:${t.type}`)).join(", ")}}>`}}xt=Symbol.toStringTag,Xt[xt]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(Xt.prototype);const qt=(Gt=-1,()=>++Gt);var Gt;class Zt extends Ft{constructor(t,e,i,r){super(),this.indices=e,this.dictionary=t,this.isOrdered=r||!1,this.id=null==i?qt():"number"===typeof i?i:i.low}get typeId(){return h.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function Qt(t){const e=t;switch(t.typeId){case h.Decimal:return t.bitWidth/32;case h.Timestamp:return 2;case h.Date:case h.Interval:return 1+e.unit;case h.FixedSizeList:return e.listSize;case h.FixedSizeBinary:return e.byteWidth;default:return 1}}Dt=Symbol.toStringTag,Zt[Dt]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(Zt.prototype);class te{visitMany(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return t.map(((t,e)=>this.visit(t,...i.map((t=>t[e])))))}visit(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(t){return function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof e)return ee(t,e,i);if("string"===typeof e&&e in h)return ee(t,h[e],i);if(e&&e instanceof Ft)return ee(t,ie(e),i);if((null===e||void 0===e?void 0:e.type)&&e.type instanceof Ft)return ee(t,ie(e.type),i);return ee(t,h.NONE,i)}(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}getVisitFnByTypeId(t){return ee(this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}visitNull(t){return null}visitBool(t){return null}visitInt(t){return null}visitFloat(t){return null}visitUtf8(t){return null}visitBinary(t){return null}visitFixedSizeBinary(t){return null}visitDate(t){return null}visitTimestamp(t){return null}visitTime(t){return null}visitDecimal(t){return null}visitList(t){return null}visitStruct(t){return null}visitUnion(t){return null}visitDictionary(t){return null}visitInterval(t){return null}visitFixedSizeList(t){return null}visitMap(t){return null}}function ee(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=null;switch(e){case h.Null:r=t.visitNull;break;case h.Bool:r=t.visitBool;break;case h.Int:r=t.visitInt;break;case h.Int8:r=t.visitInt8||t.visitInt;break;case h.Int16:r=t.visitInt16||t.visitInt;break;case h.Int32:r=t.visitInt32||t.visitInt;break;case h.Int64:r=t.visitInt64||t.visitInt;break;case h.Uint8:r=t.visitUint8||t.visitInt;break;case h.Uint16:r=t.visitUint16||t.visitInt;break;case h.Uint32:r=t.visitUint32||t.visitInt;break;case h.Uint64:r=t.visitUint64||t.visitInt;break;case h.Float:r=t.visitFloat;break;case h.Float16:r=t.visitFloat16||t.visitFloat;break;case h.Float32:r=t.visitFloat32||t.visitFloat;break;case h.Float64:r=t.visitFloat64||t.visitFloat;break;case h.Utf8:r=t.visitUtf8;break;case h.Binary:r=t.visitBinary;break;case h.FixedSizeBinary:r=t.visitFixedSizeBinary;break;case h.Date:r=t.visitDate;break;case h.DateDay:r=t.visitDateDay||t.visitDate;break;case h.DateMillisecond:r=t.visitDateMillisecond||t.visitDate;break;case h.Timestamp:r=t.visitTimestamp;break;case h.TimestampSecond:r=t.visitTimestampSecond||t.visitTimestamp;break;case h.TimestampMillisecond:r=t.visitTimestampMillisecond||t.visitTimestamp;break;case h.TimestampMicrosecond:r=t.visitTimestampMicrosecond||t.visitTimestamp;break;case h.TimestampNanosecond:r=t.visitTimestampNanosecond||t.visitTimestamp;break;case h.Time:r=t.visitTime;break;case h.TimeSecond:r=t.visitTimeSecond||t.visitTime;break;case h.TimeMillisecond:r=t.visitTimeMillisecond||t.visitTime;break;case h.TimeMicrosecond:r=t.visitTimeMicrosecond||t.visitTime;break;case h.TimeNanosecond:r=t.visitTimeNanosecond||t.visitTime;break;case h.Decimal:r=t.visitDecimal;break;case h.List:r=t.visitList;break;case h.Struct:r=t.visitStruct;break;case h.Union:r=t.visitUnion;break;case h.DenseUnion:r=t.visitDenseUnion||t.visitUnion;break;case h.SparseUnion:r=t.visitSparseUnion||t.visitUnion;break;case h.Dictionary:r=t.visitDictionary;break;case h.Interval:r=t.visitInterval;break;case h.IntervalDayTime:r=t.visitIntervalDayTime||t.visitInterval;break;case h.IntervalYearMonth:r=t.visitIntervalYearMonth||t.visitInterval;break;case h.FixedSizeList:r=t.visitFixedSizeList;break;case h.Map:r=t.visitMap}if("function"===typeof r)return r;if(!i)return()=>null;throw new Error(`Unrecognized type '${h[e]}'`)}function ie(t){switch(t.typeId){case h.Null:return h.Null;case h.Int:{const{bitWidth:e,isSigned:i}=t;switch(e){case 8:return i?h.Int8:h.Uint8;case 16:return i?h.Int16:h.Uint16;case 32:return i?h.Int32:h.Uint32;case 64:return i?h.Int64:h.Uint64}return h.Int}case h.Float:switch(t.precision){case s.HALF:return h.Float16;case s.SINGLE:return h.Float32;case s.DOUBLE:return h.Float64}return h.Float;case h.Binary:return h.Binary;case h.Utf8:return h.Utf8;case h.Bool:return h.Bool;case h.Decimal:return h.Decimal;case h.Time:switch(t.unit){case a.SECOND:return h.TimeSecond;case a.MILLISECOND:return h.TimeMillisecond;case a.MICROSECOND:return h.TimeMicrosecond;case a.NANOSECOND:return h.TimeNanosecond}return h.Time;case h.Timestamp:switch(t.unit){case a.SECOND:return h.TimestampSecond;case a.MILLISECOND:return h.TimestampMillisecond;case a.MICROSECOND:return h.TimestampMicrosecond;case a.NANOSECOND:return h.TimestampNanosecond}return h.Timestamp;case h.Date:switch(t.unit){case o.DAY:return h.DateDay;case o.MILLISECOND:return h.DateMillisecond}return h.Date;case h.Interval:switch(t.unit){case c.DAY_TIME:return h.IntervalDayTime;case c.YEAR_MONTH:return h.IntervalYearMonth}return h.Interval;case h.Map:return h.Map;case h.List:return h.List;case h.Struct:return h.Struct;case h.Union:switch(t.mode){case n.Dense:return h.DenseUnion;case n.Sparse:return h.SparseUnion}return h.Union;case h.FixedSizeBinary:return h.FixedSizeBinary;case h.FixedSizeList:return h.FixedSizeList;case h.Dictionary:return h.Dictionary}throw new Error(`Unrecognized type '${h[t.typeId]}'`)}te.prototype.visitInt8=null,te.prototype.visitInt16=null,te.prototype.visitInt32=null,te.prototype.visitInt64=null,te.prototype.visitUint8=null,te.prototype.visitUint16=null,te.prototype.visitUint32=null,te.prototype.visitUint64=null,te.prototype.visitFloat16=null,te.prototype.visitFloat32=null,te.prototype.visitFloat64=null,te.prototype.visitDateDay=null,te.prototype.visitDateMillisecond=null,te.prototype.visitTimestampSecond=null,te.prototype.visitTimestampMillisecond=null,te.prototype.visitTimestampMicrosecond=null,te.prototype.visitTimestampNanosecond=null,te.prototype.visitTimeSecond=null,te.prototype.visitTimeMillisecond=null,te.prototype.visitTimeMicrosecond=null,te.prototype.visitTimeNanosecond=null,te.prototype.visitDenseUnion=null,te.prototype.visitSparseUnion=null,te.prototype.visitIntervalDayTime=null,te.prototype.visitIntervalYearMonth=null;const re=new Float64Array(1),ne=new Uint32Array(re.buffer);function se(t){const e=(31744&t)>>10,i=(1023&t)/1024,r=Math.pow(-1,(32768&t)>>15);switch(e){case 31:return r*(i?Number.NaN:1/0);case 0:return r*(i?6103515625e-14*i:0)}return r*Math.pow(2,e-15)*(1+i)}class oe extends te{}function ae(t){return(e,i,r)=>{if(e.setValid(i,null!=r))return t(e,i,r)}}const ce=(t,e,i)=>{t[e]=Math.trunc(i%4294967296),t[e+1]=Math.trunc(i/4294967296)},le=(t,e,i,r)=>{if(i+1<e.length){const{[i]:n,[i+1]:s}=e;t.set(r.subarray(0,s-n),n)}},he=(t,e,i)=>{let{values:r}=t;r[e]=i},ue=(t,e,i)=>{let{values:r}=t;r[e]=i},de=(t,e,i)=>{let{values:r}=t;r[e]=function(t){if(t!==t)return 32256;re[0]=t;const e=(2147483648&ne[1])>>16&65535;let i=2146435072&ne[1],r=0;return i>=1089470464?ne[0]>0?i=31744:(i=(2080374784&i)>>16,r=(1048575&ne[1])>>10):i<=1056964608?(r=1048576+(1048575&ne[1]),r=1048576+(r<<(i>>20)-998)>>21,i=0):(i=i-1056964608>>10,r=512+(1048575&ne[1])>>10),e|i|65535&r}(i)},pe=(t,e,i)=>{let{values:r}=t;((t,e,i)=>{t[e]=Math.trunc(i/864e5)})(r,e,i.valueOf())},fe=(t,e,i)=>{let{values:r}=t;ce(r,2*e,i.valueOf())},ye=(t,e,i)=>{let{values:r}=t;return ce(r,2*e,i/1e3)},be=(t,e,i)=>{let{values:r}=t;return ce(r,2*e,i)},ge=(t,e,i)=>{let{values:r}=t;return((t,e,i)=>{t[e]=Math.trunc(1e3*i%4294967296),t[e+1]=Math.trunc(1e3*i/4294967296)})(r,2*e,i)},me=(t,e,i)=>{let{values:r}=t;return((t,e,i)=>{t[e]=Math.trunc(1e6*i%4294967296),t[e+1]=Math.trunc(1e6*i/4294967296)})(r,2*e,i)},_e=(t,e,i)=>{let{values:r}=t;r[e]=i},ve=(t,e,i)=>{let{values:r}=t;r[e]=i},we=(t,e,i)=>{let{values:r}=t;r[e]=i},Se=(t,e,i)=>{let{values:r}=t;r[e]=i},Ie=(t,e,i)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];Oe.visit(n,t.valueOffsets[e],i)},Be=(t,e,i)=>{const r=t.type.typeIdToChildIndex[t.typeIds[e]],n=t.children[r];Oe.visit(n,e,i)},Ae=(t,e,i)=>{let{values:r}=t;r.set(i.subarray(0,2),2*e)},Te=(t,e,i)=>{let{values:r}=t;r[e]=12*i[0]+i[1]%12};oe.prototype.visitBool=ae(((t,e,i)=>{let{offset:r,values:n}=t;const s=r+e;i?n[s>>3]|=1<<s%8:n[s>>3]&=~(1<<s%8)})),oe.prototype.visitInt=ae(he),oe.prototype.visitInt8=ae(he),oe.prototype.visitInt16=ae(he),oe.prototype.visitInt32=ae(he),oe.prototype.visitInt64=ae(he),oe.prototype.visitUint8=ae(he),oe.prototype.visitUint16=ae(he),oe.prototype.visitUint32=ae(he),oe.prototype.visitUint64=ae(he),oe.prototype.visitFloat=ae(((t,e,i)=>{switch(t.type.precision){case s.HALF:return de(t,e,i);case s.SINGLE:case s.DOUBLE:return ue(t,e,i)}})),oe.prototype.visitFloat16=ae(de),oe.prototype.visitFloat32=ae(ue),oe.prototype.visitFloat64=ae(ue),oe.prototype.visitUtf8=ae(((t,e,i)=>{let{values:r,valueOffsets:n}=t;le(r,n,e,H(i))})),oe.prototype.visitBinary=ae(((t,e,i)=>{let{values:r,valueOffsets:n}=t;return le(r,n,e,i)})),oe.prototype.visitFixedSizeBinary=ae(((t,e,i)=>{let{stride:r,values:n}=t;n.set(i.subarray(0,r),r*e)})),oe.prototype.visitDate=ae(((t,e,i)=>{t.type.unit===o.DAY?pe(t,e,i):fe(t,e,i)})),oe.prototype.visitDateDay=ae(pe),oe.prototype.visitDateMillisecond=ae(fe),oe.prototype.visitTimestamp=ae(((t,e,i)=>{switch(t.type.unit){case a.SECOND:return ye(t,e,i);case a.MILLISECOND:return be(t,e,i);case a.MICROSECOND:return ge(t,e,i);case a.NANOSECOND:return me(t,e,i)}})),oe.prototype.visitTimestampSecond=ae(ye),oe.prototype.visitTimestampMillisecond=ae(be),oe.prototype.visitTimestampMicrosecond=ae(ge),oe.prototype.visitTimestampNanosecond=ae(me),oe.prototype.visitTime=ae(((t,e,i)=>{switch(t.type.unit){case a.SECOND:return _e(t,e,i);case a.MILLISECOND:return ve(t,e,i);case a.MICROSECOND:return we(t,e,i);case a.NANOSECOND:return Se(t,e,i)}})),oe.prototype.visitTimeSecond=ae(_e),oe.prototype.visitTimeMillisecond=ae(ve),oe.prototype.visitTimeMicrosecond=ae(we),oe.prototype.visitTimeNanosecond=ae(Se),oe.prototype.visitDecimal=ae(((t,e,i)=>{let{values:r,stride:n}=t;r.set(i.subarray(0,n),n*e)})),oe.prototype.visitList=ae(((t,e,i)=>{const r=t.children[0],n=t.valueOffsets,s=Oe.getVisitFn(r);if(Array.isArray(i))for(let o=-1,a=n[e],c=n[e+1];a<c;)s(r,a++,i[++o]);else for(let o=-1,a=n[e],c=n[e+1];a<c;)s(r,a++,i.get(++o))})),oe.prototype.visitStruct=ae(((t,e,i)=>{const r=t.type.children.map((t=>Oe.getVisitFn(t.type))),n=i instanceof Map?(s=e,o=i,(t,e,i,r)=>e&&t(e,s,o.get(i.name))):i instanceof Hi?((t,e)=>(i,r,n,s)=>r&&i(r,t,e.get(s)))(e,i):Array.isArray(i)?((t,e)=>(i,r,n,s)=>r&&i(r,t,e[s]))(e,i):((t,e)=>(i,r,n,s)=>r&&i(r,t,e[n.name]))(e,i);var s,o;t.type.children.forEach(((e,i)=>n(r[i],t.children[i],e,i)))})),oe.prototype.visitUnion=ae(((t,e,i)=>{t.type.mode===n.Dense?Ie(t,e,i):Be(t,e,i)})),oe.prototype.visitDenseUnion=ae(Ie),oe.prototype.visitSparseUnion=ae(Be),oe.prototype.visitDictionary=ae(((t,e,i)=>{var r;null===(r=t.dictionary)||void 0===r||r.set(t.values[e],i)})),oe.prototype.visitInterval=ae(((t,e,i)=>{t.type.unit===c.DAY_TIME?Ae(t,e,i):Te(t,e,i)})),oe.prototype.visitIntervalDayTime=ae(Ae),oe.prototype.visitIntervalYearMonth=ae(Te),oe.prototype.visitFixedSizeList=ae(((t,e,i)=>{const{stride:r}=t,n=t.children[0],s=Oe.getVisitFn(n);if(Array.isArray(i))for(let o=-1,a=e*r;++o<r;)s(n,a+o,i[o]);else for(let o=-1,a=e*r;++o<r;)s(n,a+o,i.get(o))})),oe.prototype.visitMap=ae(((t,e,i)=>{const r=t.children[0],{valueOffsets:n}=t,s=Oe.getVisitFn(r);let{[e]:o,[e+1]:a}=n;const c=i instanceof Map?i.entries():Object.entries(i);for(const l of c)if(s(r,o,l),++o>=a)break}));const Oe=new oe,xe=Symbol.for("parent"),De=Symbol.for("rowIndex");class Me{constructor(t,e){return this[xe]=t,this[De]=e,new Proxy(this,new Ne)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[De],e=this[xe],i=e.type.children,r={};for(let n=-1,s=i.length;++n<s;)r[i[n].name]=ti.visit(e.children[n],t);return r}toString(){return`{${[...this].map((t=>{let[e,i]=t;return`${U(e)}: ${U(i)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Fe(this[xe],this[De])}}class Fe{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ti.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Me.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[xe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[De]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class Ne{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[xe].type.children.map((t=>t.name))}has(t,e){return-1!==t[xe].type.children.findIndex((t=>t.name===e))}getOwnPropertyDescriptor(t,e){if(-1!==t[xe].type.children.findIndex((t=>t.name===e)))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[xe].type.children.findIndex((t=>t.name===e));if(-1!==i){const r=ti.visit(t[xe].children[i],t[De]);return Reflect.set(t,e,r),r}}set(t,e,i){const r=t[xe].type.children.findIndex((t=>t.name===e));return-1!==r?(Oe.visit(t[xe].children[r],t[De],i),Reflect.set(t,e,i)):!(!Reflect.has(t,e)&&"symbol"!==typeof e)&&Reflect.set(t,e,i)}}class Ce extends te{}function Ue(t){return(e,i)=>e.getValid(i)?t(e,i):null}const Le=(t,e)=>4294967296*t[e+1]+(t[e]>>>0),ke=t=>new Date(t),Ee=(t,e,i)=>{if(i+1>=e.length)return null;const r=e[i],n=e[i+1];return t.subarray(r,n)},Re=(t,e)=>{let{values:i}=t;return((t,e)=>ke(((t,e)=>864e5*t[e])(t,e)))(i,e)},ze=(t,e)=>{let{values:i}=t;return((t,e)=>ke(Le(t,e)))(i,2*e)},Pe=(t,e)=>{let{stride:i,values:r}=t;return r[i*e]},je=(t,e)=>{let{values:i}=t;return i[e]},Ve=(t,e)=>{let{values:i}=t;return 1e3*Le(i,2*e)},$e=(t,e)=>{let{values:i}=t;return Le(i,2*e)},He=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e3*4294967296+(t[e]>>>0)/1e3)(i,2*e)},We=(t,e)=>{let{values:i}=t;return((t,e)=>t[e+1]/1e6*4294967296+(t[e]>>>0)/1e6)(i,2*e)},Ye=(t,e)=>{let{values:i}=t;return i[e]},Ke=(t,e)=>{let{values:i}=t;return i[e]},Je=(t,e)=>{let{values:i}=t;return i[e]},Xe=(t,e)=>{let{values:i}=t;return i[e]},qe=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];return ti.visit(r,t.valueOffsets[e])},Ge=(t,e)=>{const i=t.type.typeIdToChildIndex[t.typeIds[e]],r=t.children[i];return ti.visit(r,e)},Ze=(t,e)=>{let{values:i}=t;return i.subarray(2*e,2*(e+1))},Qe=(t,e)=>{let{values:i}=t;const r=i[e],n=new Int32Array(2);return n[0]=Math.trunc(r/12),n[1]=Math.trunc(r%12),n};Ce.prototype.visitNull=Ue(((t,e)=>null)),Ce.prototype.visitBool=Ue(((t,e)=>{let{offset:i,values:r}=t;const n=i+e;return 0!==(r[n>>3]&1<<n%8)})),Ce.prototype.visitInt=Ue(((t,e)=>{let{values:i}=t;return i[e]})),Ce.prototype.visitInt8=Ue(Pe),Ce.prototype.visitInt16=Ue(Pe),Ce.prototype.visitInt32=Ue(Pe),Ce.prototype.visitInt64=Ue(je),Ce.prototype.visitUint8=Ue(Pe),Ce.prototype.visitUint16=Ue(Pe),Ce.prototype.visitUint32=Ue(Pe),Ce.prototype.visitUint64=Ue(je),Ce.prototype.visitFloat=Ue(((t,e)=>{let{type:i,values:r}=t;return i.precision!==s.HALF?r[e]:se(r[e])})),Ce.prototype.visitFloat16=Ue(((t,e)=>{let{stride:i,values:r}=t;return se(r[i*e])})),Ce.prototype.visitFloat32=Ue(Pe),Ce.prototype.visitFloat64=Ue(Pe),Ce.prototype.visitUtf8=Ue(((t,e)=>{let{values:i,valueOffsets:r}=t;const n=Ee(i,r,e);return null!==n?V(n):null})),Ce.prototype.visitBinary=Ue(((t,e)=>{let{values:i,valueOffsets:r}=t;return Ee(i,r,e)})),Ce.prototype.visitFixedSizeBinary=Ue(((t,e)=>{let{stride:i,values:r}=t;return r.subarray(i*e,i*(e+1))})),Ce.prototype.visitDate=Ue(((t,e)=>t.type.unit===o.DAY?Re(t,e):ze(t,e))),Ce.prototype.visitDateDay=Ue(Re),Ce.prototype.visitDateMillisecond=Ue(ze),Ce.prototype.visitTimestamp=Ue(((t,e)=>{switch(t.type.unit){case a.SECOND:return Ve(t,e);case a.MILLISECOND:return $e(t,e);case a.MICROSECOND:return He(t,e);case a.NANOSECOND:return We(t,e)}})),Ce.prototype.visitTimestampSecond=Ue(Ve),Ce.prototype.visitTimestampMillisecond=Ue($e),Ce.prototype.visitTimestampMicrosecond=Ue(He),Ce.prototype.visitTimestampNanosecond=Ue(We),Ce.prototype.visitTime=Ue(((t,e)=>{switch(t.type.unit){case a.SECOND:return Ye(t,e);case a.MILLISECOND:return Ke(t,e);case a.MICROSECOND:return Je(t,e);case a.NANOSECOND:return Xe(t,e)}})),Ce.prototype.visitTimeSecond=Ue(Ye),Ce.prototype.visitTimeMillisecond=Ue(Ke),Ce.prototype.visitTimeMicrosecond=Ue(Je),Ce.prototype.visitTimeNanosecond=Ue(Xe),Ce.prototype.visitDecimal=Ue(((t,e)=>{let{values:i,stride:r}=t;return ht.decimal(i.subarray(r*e,r*(e+1)))})),Ce.prototype.visitList=Ue(((t,e)=>{const{valueOffsets:i,stride:r,children:n}=t,{[e*r]:s,[e*r+1]:o}=i,a=n[0].slice(s,o-s);return new Hi([a])})),Ce.prototype.visitStruct=Ue(((t,e)=>new Me(t,e))),Ce.prototype.visitUnion=Ue(((t,e)=>t.type.mode===n.Dense?qe(t,e):Ge(t,e))),Ce.prototype.visitDenseUnion=Ue(qe),Ce.prototype.visitSparseUnion=Ue(Ge),Ce.prototype.visitDictionary=Ue(((t,e)=>{var i;return null===(i=t.dictionary)||void 0===i?void 0:i.get(t.values[e])})),Ce.prototype.visitInterval=Ue(((t,e)=>t.type.unit===c.DAY_TIME?Ze(t,e):Qe(t,e))),Ce.prototype.visitIntervalDayTime=Ue(Ze),Ce.prototype.visitIntervalYearMonth=Ue(Qe),Ce.prototype.visitFixedSizeList=Ue(((t,e)=>{const{stride:i,children:r}=t,n=r[0].slice(e*i,i);return new Hi([n])})),Ce.prototype.visitMap=Ue(((t,e)=>{const{valueOffsets:i,children:r}=t,{[e]:n,[e+1]:s}=i,o=r[0];return new ri(o.slice(n,s-n))}));const ti=new Ce,ei=Symbol.for("keys"),ii=Symbol.for("vals");class ri{constructor(t){return this[ei]=new Hi([t.children[0]]).memoize(),this[ii]=t.children[1],new Proxy(this,new si)}[Symbol.iterator](){return new ni(this[ei],this[ii])}get size(){return this[ei].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ei],e=this[ii],i={};for(let r=-1,n=t.length;++r<n;)i[t.get(r)]=ti.visit(e,r);return i}toString(){return`{${[...this].map((t=>{let[e,i]=t;return`${U(e)}: ${U(i)}`})).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class ni{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ti.visit(this.vals,t)]})}}class si{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ei].toArray().map(String)}has(t,e){return t[ei].includes(e)}getOwnPropertyDescriptor(t,e){if(-1!==t[ei].indexOf(e))return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const i=t[ei].indexOf(e);if(-1!==i){const r=ti.visit(Reflect.get(t,ii),i);return Reflect.set(t,e,r),r}}set(t,e,i){const r=t[ei].indexOf(e);return-1!==r?(Oe.visit(Reflect.get(t,ii),r,i),Reflect.set(t,e,i)):!!Reflect.has(t,e)&&Reflect.set(t,e,i)}}let oi;function ai(t,e,i,r){const{length:n=0}=t;let s="number"!==typeof e?0:e,o="number"!==typeof i?n:i;return s<0&&(s=(s%n+n)%n),o<0&&(o=(o%n+n)%n),o<s&&(oi=s,s=o,o=oi),o>n&&(o=n),r?r(t,s,o):[s,o]}Object.defineProperties(ri.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ei]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ii]:{writable:!0,enumerable:!1,configurable:!1,value:null}});const ci=t=>t!==t;function li(t){if("object"!==typeof t||null===t)return ci(t)?ci:e=>e===t;if(t instanceof Date){const e=t.valueOf();return t=>t instanceof Date&&t.valueOf()===e}return ArrayBuffer.isView(t)?e=>!!e&&function(t,e){let i=0;const r=t.length;if(r!==e.length)return!1;if(r>0)do{if(t[i]!==e[i])return!1}while(++i<r);return!0}(t,e):t instanceof Map?function(t){let e=-1;const i=[];for(const r of t.values())i[++e]=li(r);return hi(i)}(t):Array.isArray(t)?function(t){const e=[];for(let i=-1,r=t.length;++i<r;)e[i]=li(t[i]);return hi(e)}(t):t instanceof Hi?function(t){const e=[];for(let i=-1,r=t.length;++i<r;)e[i]=li(t.get(i));return hi(e)}(t):function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=Object.keys(t);if(!e&&0===i.length)return()=>!1;const r=[];for(let n=-1,s=i.length;++n<s;)r[n]=li(t[i[n]]);return hi(r,i)}(t,!0)}function hi(t,e){return i=>{if(!i||"object"!==typeof i)return!1;switch(i.constructor){case Array:return function(t,e){const i=t.length;if(e.length!==i)return!1;for(let r=-1;++r<i;)if(!t[r](e[r]))return!1;return!0}(t,i);case Map:return ui(t,i,i.keys());case ri:case Me:case Object:case void 0:return ui(t,i,e||Object.keys(i))}return i instanceof Hi&&function(t,e){const i=t.length;if(e.length!==i)return!1;for(let r=-1;++r<i;)if(!t[r](e.get(r)))return!1;return!0}(t,i)}}function ui(t,e,i){const r=i[Symbol.iterator](),n=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),s=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let o=0;const a=t.length;let c=s.next(),l=r.next(),h=n.next();for(;o<a&&!l.done&&!h.done&&!c.done&&(l.value===h.value&&t[o](c.value));++o,l=r.next(),h=n.next(),c=s.next());return!!(o===a&&l.done&&h.done&&c.done)||(r.return&&r.return(),n.return&&n.return(),s.return&&s.return(),!1)}class di{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function pi(t){return t.reduce(((t,e)=>t+e.nullCount),0)}function fi(t){return t.reduce(((t,e,i)=>(t[i+1]=t[i]+e.length,t)),new Uint32Array(t.length+1))}function yi(t,e,i,r){const n=[];for(let s=-1,o=t.length;++s<o;){const o=t[s],a=e[s],{length:c}=o;if(a>=r)break;if(i>=a+c)continue;if(a>=i&&a+c<=r){n.push(o);continue}const l=Math.max(0,i-a),h=Math.min(r-a,c);n.push(o.slice(l,h-l))}return 0===n.length&&n.push(t[0].slice(0,0)),n}function bi(t,e,i,r){let n=0,s=0,o=e.length-1;do{if(n>=o-1)return i<e[o]?r(t,n,i-e[n]):null;s=n+Math.trunc(.5*(o-n)),i<e[s]?o=s:n=s}while(n<o)}function gi(t,e){return t.getValid(e)}function mi(t){function e(e,i,r){return t(e[i],r)}return function(t){return bi(this.data,this._offsets,t,e)}}function _i(t){let e;function i(i,r,n){return t(i[r],n,e)}return function(t,r){const n=this.data;e=r;const s=bi(n,this._offsets,t,i);return e=void 0,s}}function vi(t){let e;function i(i,r,n){let s=n,o=0,a=0;for(let c=r-1,l=i.length;++c<l;){const r=i[c];if(~(o=t(r,e,s)))return a+o;s=0,a+=r.length}return-1}return function(t,r){e=t;const n=this.data,s="number"!==typeof r?i(n,0,0):bi(n,this._offsets,r,i);return e=void 0,s}}function wi(t,e,i,r){return 0!==(i&1<<r)}function Si(t,e,i,r){return(i&1<<r)>>r}function Ii(t,e,i){const r=i.byteLength+7&-8;if(t>0||i.byteLength<r){const n=new Uint8Array(r);return n.set(t%8===0?i.subarray(t>>3):Bi(new Ai(i,t,e,null,wi)).subarray(0,r)),n}return i}function Bi(t){const e=[];let i=0,r=0,n=0;for(const o of t)o&&(n|=1<<r),8===++r&&(e[i++]=n,n=r=0);(0===i||r>0)&&(e[i++]=n);const s=new Uint8Array(e.length+7&-8);return s.set(e),s}class Ai{constructor(t,e,i,r,n){this.bytes=t,this.length=i,this.context=r,this.get=n,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function Ti(t,e,i){if(i-e<=0)return 0;if(i-e<8){let r=0;for(const n of new Ai(t,e,i-e,t,Si))r+=n;return r}const r=i>>3<<3,n=e+(e%8===0?0:8-e%8);return Ti(t,e,n)+Ti(t,r,i)+function(t,e,i){let r=0,n=Math.trunc(e);const s=new DataView(t.buffer,t.byteOffset,t.byteLength),o=void 0===i?t.byteLength:n+i;for(;o-n>=4;)r+=Oi(s.getUint32(n)),n+=4;for(;o-n>=2;)r+=Oi(s.getUint16(n)),n+=2;for(;o-n>=1;)r+=Oi(s.getUint8(n)),n+=1;return r}(t,n>>3,r-n>>3)}function Oi(t){let e=Math.trunc(t);return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24}class xi extends te{}function Di(t,e,i){if(void 0===e)return-1;if(null===e)return function(t,e){const{nullBitmap:i}=t;if(!i||t.nullCount<=0)return-1;let r=0;for(const n of new Ai(i,t.offset+(e||0),t.length,i,wi)){if(!n)return r;++r}return-1}(t,i);const r=ti.getVisitFn(t),n=li(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(n(r(t,s)))return s;return-1}function Mi(t,e,i){const r=ti.getVisitFn(t),n=li(e);for(let s=(i||0)-1,o=t.length;++s<o;)if(n(r(t,s)))return s;return-1}xi.prototype.visitNull=function(t,e){return null===e&&t.length>0?0:-1},xi.prototype.visitBool=Di,xi.prototype.visitInt=Di,xi.prototype.visitInt8=Di,xi.prototype.visitInt16=Di,xi.prototype.visitInt32=Di,xi.prototype.visitInt64=Di,xi.prototype.visitUint8=Di,xi.prototype.visitUint16=Di,xi.prototype.visitUint32=Di,xi.prototype.visitUint64=Di,xi.prototype.visitFloat=Di,xi.prototype.visitFloat16=Di,xi.prototype.visitFloat32=Di,xi.prototype.visitFloat64=Di,xi.prototype.visitUtf8=Di,xi.prototype.visitBinary=Di,xi.prototype.visitFixedSizeBinary=Di,xi.prototype.visitDate=Di,xi.prototype.visitDateDay=Di,xi.prototype.visitDateMillisecond=Di,xi.prototype.visitTimestamp=Di,xi.prototype.visitTimestampSecond=Di,xi.prototype.visitTimestampMillisecond=Di,xi.prototype.visitTimestampMicrosecond=Di,xi.prototype.visitTimestampNanosecond=Di,xi.prototype.visitTime=Di,xi.prototype.visitTimeSecond=Di,xi.prototype.visitTimeMillisecond=Di,xi.prototype.visitTimeMicrosecond=Di,xi.prototype.visitTimeNanosecond=Di,xi.prototype.visitDecimal=Di,xi.prototype.visitList=Di,xi.prototype.visitStruct=Di,xi.prototype.visitUnion=Di,xi.prototype.visitDenseUnion=Mi,xi.prototype.visitSparseUnion=Mi,xi.prototype.visitDictionary=Di,xi.prototype.visitInterval=Di,xi.prototype.visitIntervalDayTime=Di,xi.prototype.visitIntervalYearMonth=Di,xi.prototype.visitFixedSizeList=Di,xi.prototype.visitMap=Di;const Fi=new xi;class Ni extends te{}function Ci(t){const{type:e}=t;if(0===t.nullCount&&1===t.stride&&(e.typeId===h.Timestamp||e instanceof Ct&&64!==e.bitWidth||e instanceof jt&&64!==e.bitWidth||e instanceof Lt&&e.precision!==s.HALF))return new di(t.data.length,(e=>{const i=t.data[e];return i.values.subarray(0,i.length)[Symbol.iterator]()}));let i=0;return new di(t.data.length,(e=>{const r=t.data[e].length,n=t.slice(i,i+r);return i+=r,new Ui(n)}))}class Ui{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}Ni.prototype.visitNull=Ci,Ni.prototype.visitBool=Ci,Ni.prototype.visitInt=Ci,Ni.prototype.visitInt8=Ci,Ni.prototype.visitInt16=Ci,Ni.prototype.visitInt32=Ci,Ni.prototype.visitInt64=Ci,Ni.prototype.visitUint8=Ci,Ni.prototype.visitUint16=Ci,Ni.prototype.visitUint32=Ci,Ni.prototype.visitUint64=Ci,Ni.prototype.visitFloat=Ci,Ni.prototype.visitFloat16=Ci,Ni.prototype.visitFloat32=Ci,Ni.prototype.visitFloat64=Ci,Ni.prototype.visitUtf8=Ci,Ni.prototype.visitBinary=Ci,Ni.prototype.visitFixedSizeBinary=Ci,Ni.prototype.visitDate=Ci,Ni.prototype.visitDateDay=Ci,Ni.prototype.visitDateMillisecond=Ci,Ni.prototype.visitTimestamp=Ci,Ni.prototype.visitTimestampSecond=Ci,Ni.prototype.visitTimestampMillisecond=Ci,Ni.prototype.visitTimestampMicrosecond=Ci,Ni.prototype.visitTimestampNanosecond=Ci,Ni.prototype.visitTime=Ci,Ni.prototype.visitTimeSecond=Ci,Ni.prototype.visitTimeMillisecond=Ci,Ni.prototype.visitTimeMicrosecond=Ci,Ni.prototype.visitTimeNanosecond=Ci,Ni.prototype.visitDecimal=Ci,Ni.prototype.visitList=Ci,Ni.prototype.visitStruct=Ci,Ni.prototype.visitUnion=Ci,Ni.prototype.visitDenseUnion=Ci,Ni.prototype.visitSparseUnion=Ci,Ni.prototype.visitDictionary=Ci,Ni.prototype.visitInterval=Ci,Ni.prototype.visitIntervalDayTime=Ci,Ni.prototype.visitIntervalYearMonth=Ci,Ni.prototype.visitFixedSizeList=Ci,Ni.prototype.visitMap=Ci;const Li=new Ni,ki=(t,e)=>t+e;class Ei extends te{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return 4*(t.type.unit+1)}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===a.SECOND?4:8}visitInterval(t,e){return 4*(t.type.unit+1)}visitStruct(t,e){return t.children.reduce(((t,i)=>t+Pi.visit(i,e)),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce(((t,i)=>t+Pi.visit(i,e)),0)}visitDictionary(t,e){var i;return t.type.indices.bitWidth/8+((null===(i=t.dictionary)||void 0===i?void 0:i.getByteLength(t.values[e]))||0)}}const Ri=(t,e)=>{let{type:i,children:r,typeIds:n,valueOffsets:s}=t;const o=i.typeIdToChildIndex[n[e]];return 8+Pi.visit(r[o],s[e])},zi=(t,e)=>{let{children:i}=t;return 4+Pi.visitMany(i,i.map((()=>e))).reduce(ki,0)};Ei.prototype.visitUtf8=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Ei.prototype.visitBinary=(t,e)=>{let{valueOffsets:i}=t;return i[e+1]-i[e]+8},Ei.prototype.visitList=(t,e)=>{let{valueOffsets:i,stride:r,children:n}=t;const s=n[0],{[e*r]:o}=i,{[e*r+1]:a}=i,c=Pi.getVisitFn(s.type),l=s.slice(o,a-o);let h=8;for(let u=-1,d=a-o;++u<d;)h+=c(l,u);return h},Ei.prototype.visitFixedSizeList=(t,e)=>{let{stride:i,children:r}=t;const n=r[0],s=n.slice(e*i,i),o=Pi.getVisitFn(n.type);let a=0;for(let c=-1,l=s.length;++c<l;)a+=o(s,c);return a},Ei.prototype.visitUnion=(t,e)=>t.type.mode===n.Dense?Ri(t,e):zi(t,e),Ei.prototype.visitDenseUnion=Ri,Ei.prototype.visitSparseUnion=zi;const Pi=new Ei;var ji;const Vi={},$i={};class Hi{constructor(t){var e,i,r;const n=t[0]instanceof Hi?t.flatMap((t=>t.data)):t;if(0===n.length||n.some((t=>!(t instanceof Yi))))throw new TypeError("Vector constructor expects an Array of Data instances.");const s=null===(e=n[0])||void 0===e?void 0:e.type;switch(n.length){case 0:this._offsets=[0];break;case 1:{const{get:t,set:e,indexOf:i,byteLength:r}=Vi[s.typeId],o=n[0];this.isValid=t=>gi(o,t),this.get=e=>t(o,e),this.set=(t,i)=>e(o,t,i),this.indexOf=t=>i(o,t),this.getByteLength=t=>r(o,t),this._offsets=[0,o.length];break}default:Object.setPrototypeOf(this,$i[s.typeId]),this._offsets=fi(n)}this.data=n,this.type=s,this.stride=Qt(s),this.numChildren=null!==(r=null===(i=s.children)||void 0===i?void 0:i.length)&&void 0!==r?r:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return-1===this._byteLength&&(this._byteLength=this.data.reduce(((t,e)=>t+e.byteLength),0)),this._byteLength}get nullCount(){return-1===this._nullCount&&(this._nullCount=pi(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${h[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Li.visit(this)}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Hi(this.data.concat(e.flatMap((t=>t.data)).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new Hi(ai(this,t,e,((t,e,i)=>{let{data:r,_offsets:n}=t;return yi(r,n,e,i)})))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:i,stride:r,ArrayType:n}=this;switch(t.typeId){case h.Int:case h.Float:case h.Decimal:case h.Time:case h.Timestamp:switch(e.length){case 0:return new n;case 1:return e[0].values.subarray(0,i*r);default:return e.reduce(((t,e)=>{let{values:i,length:n}=e;return t.array.set(i.subarray(0,n*r),t.offset),t.offset+=n*r,t}),{array:new n(i*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt(null===(e=this.type.children)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.numChildren?new Hi(this.data.map((e=>{let{children:i}=e;return i[t]}))):null}get isMemoized(){return!!Ft.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(Ft.isDictionary(this.type)){const t=new Wi(this.data[0].dictionary),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Hi(e)}return new Wi(this)}unmemoize(){if(Ft.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map((e=>{const i=e.clone();return i.dictionary=t,i}));return new Hi(e)}return this}}ji=Symbol.toStringTag,Hi[ji]=(t=>{t.type=Ft.prototype,t.data=[],t.length=0,t.stride=1,t.numChildren=0,t._nullCount=-1,t._byteLength=-1,t._offsets=new Uint32Array([0]),t[Symbol.isConcatSpreadable]=!0;const e=Object.keys(h).map((t=>h[t])).filter((t=>"number"===typeof t&&t!==h.NONE));for(const i of e){const e=ti.getVisitFnByTypeId(i),r=Oe.getVisitFnByTypeId(i),n=Fi.getVisitFnByTypeId(i),s=Pi.getVisitFnByTypeId(i);Vi[i]={get:e,set:r,indexOf:n,byteLength:s},$i[i]=Object.create(t,{isValid:{value:mi(gi)},get:{value:mi(ti.getVisitFnByTypeId(i))},set:{value:_i(Oe.getVisitFnByTypeId(i))},indexOf:{value:vi(Fi.getVisitFnByTypeId(i))},getByteLength:{value:mi(Pi.getVisitFnByTypeId(i))}})}return"Vector"})(Hi.prototype);class Wi extends Hi{constructor(t){super(t.data);const e=this.get,i=this.set,r=this.slice,n=new Array(this.length);Object.defineProperty(this,"get",{value(t){const i=n[t];if(void 0!==i)return i;const r=e.call(this,t);return n[t]=r,r}}),Object.defineProperty(this,"set",{value(t,e){i.call(this,t,e),n[t]=e}}),Object.defineProperty(this,"slice",{value:(t,e)=>new Wi(r.call(this,t,e))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new Hi(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Yi{constructor(t,e,i,r,n){let s,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(i||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),n instanceof Yi?(this.stride=n.stride,this.values=n.values,this.typeIds=n.typeIds,this.nullBitmap=n.nullBitmap,this.valueOffsets=n.valueOffsets):(this.stride=Qt(t),n&&((s=n[0])&&(this.valueOffsets=s),(s=n[1])&&(this.values=s),(s=n[2])&&(this.nullBitmap=s),(s=n[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:i,nullBitmap:r,typeIds:n}=this;return e&&(t+=e.byteLength),i&&(t+=i.byteLength),r&&(t+=r.byteLength),n&&(t+=n.byteLength),this.children.reduce(((t,e)=>t+e.byteLength),t)}get nullCount(){let t,e=this._nullCount;return e<=-1&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-Ti(t,this.offset,this.offset+this.length)),e}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return 0!==(this.nullBitmap[e>>3]&1<<e%8)}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:t}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:t,_nullCount:0})}const{nullBitmap:i,offset:r}=this,n=r+t>>3,s=(r+t)%8,o=i[n]>>s&1;return e?0===o&&(i[n]|=1<<s,this._nullCount=this.nullCount+1):1===o&&(i[n]&=~(1<<s),this._nullCount=this.nullCount-1),e}clone(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children;return new Yi(t,e,i,r,n,s,this.dictionary)}slice(t,e){const{stride:i,typeId:r,children:n}=this,s=+(0===this._nullCount)-1,o=16===r?i:1,a=this._sliceBuffers(t,e,i,r);return this.clone(this.type,this.offset+t,e,s,a,0===n.length||this.valueOffsets?n:this._sliceChildren(n,o*t,o*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===h.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:i}=this,r=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);r[e>>3]=(1<<e-(-8&e))-1,i>0&&r.set(Ii(this.offset,e,this.nullBitmap),0);const n=this.buffers;return n[u.VALIDITY]=r,this.clone(this.type,0,t,i+(t-e),n)}_sliceBuffers(t,e,i,r){let n;const{buffers:s}=this;return(n=s[u.TYPE])&&(s[u.TYPE]=n.subarray(t,t+e)),(n=s[u.OFFSET])&&(s[u.OFFSET]=n.subarray(t,t+e+1))||(n=s[u.DATA])&&(s[u.DATA]=6===r?n:n.subarray(i*t,i*(t+e))),s}_sliceChildren(t,e,i){return t.map((t=>t.slice(e,i)))}}Yi.prototype.children=Object.freeze([]);class Ki extends te{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{type:e,offset:i=0,length:r=0}=t;return new Yi(e,i,r,0)}visitBool(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length>>3,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitInt(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitFloat(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length,nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitUtf8(t){const{type:e,offset:i=0}=t,r=q(t.data),n=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,a,[s,r,n])}visitBinary(t){const{type:e,offset:i=0}=t,r=q(t.data),n=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,a,[s,r,n])}visitFixedSizeBinary(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitDate(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitTimestamp(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitTime(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitDecimal(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitList(t){const{type:e,offset:i=0,child:r}=t,n=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,a,[s,void 0,n],[r])}visitStruct(t){const{type:e,offset:i=0,children:r=[]}=t,n=q(t.nullBitmap),{length:s=r.reduce(((t,e)=>{let{length:i}=e;return Math.max(t,i)}),0),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,void 0,n],r)}visitUnion(t){const{type:e,offset:i=0,children:r=[]}=t,n=q(t.nullBitmap),s=J(e.ArrayType,t.typeIds),{length:o=s.length,nullCount:a=(t.nullBitmap?-1:0)}=t;if(Ft.isSparseUnion(e))return new Yi(e,i,o,a,[void 0,void 0,n,s],r);const c=X(t.valueOffsets);return new Yi(e,i,o,a,[c,void 0,n,s],r)}visitDictionary(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.indices.ArrayType,t.data),{dictionary:s=new Hi([(new Ki).visit({type:e.dictionary})])}=t,{length:o=n.length,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,a,[void 0,n,r],[],s)}visitInterval(t){const{type:e,offset:i=0}=t,r=q(t.nullBitmap),n=J(e.ArrayType,t.data),{length:s=n.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,n,r])}visitFixedSizeList(t){const{type:e,offset:i=0,child:r=(new Ki).visit({type:e.valueType})}=t,n=q(t.nullBitmap),{length:s=r.length/Qt(e),nullCount:o=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,s,o,[void 0,void 0,n],[r])}visitMap(t){const{type:e,offset:i=0,child:r=(new Ki).visit({type:e.childType})}=t,n=q(t.nullBitmap),s=X(t.valueOffsets),{length:o=s.length-1,nullCount:a=(t.nullBitmap?-1:0)}=t;return new Yi(e,i,o,a,[s,void 0,n],[r])}}function Ji(t){return(new Ki).visit(t)}class Xi{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;this.fields=t||[],this.metadata=e||new Map,i||(i=Zi(t)),this.dictionaries=i}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map((t=>t.name))}toString(){return`Schema<{ ${this.fields.map(((t,e)=>`${e}: ${t}`)).join(", ")} }>`}select(t){const e=new Set(t),i=this.fields.filter((t=>e.has(t.name)));return new Xi(i,this.metadata)}selectAt(t){const e=t.map((t=>this.fields[t])).filter(Boolean);return new Xi(e,this.metadata)}assign(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const r=e[0]instanceof Xi?e[0]:Array.isArray(e[0])?new Xi(e[0]):new Xi(e),n=[...this.fields],s=Gi(Gi(new Map,this.metadata),r.metadata),o=r.fields.filter((t=>{const e=n.findIndex((e=>e.name===t.name));return!~e||(n[e]=t.clone({metadata:Gi(Gi(new Map,n[e].metadata),t.metadata)}))&&!1})),a=Zi(o,new Map);return new Xi([...n,...o],s,new Map([...this.dictionaries,...a]))}}Xi.prototype.fields=null,Xi.prototype.metadata=null,Xi.prototype.dictionaries=null;class qi{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.name=t,this.type=e,this.nullable=i,this.metadata=r||new Map}static new(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[r,n,s,o]=e;return e[0]&&"object"===typeof e[0]&&(({name:r}=e[0]),void 0===n&&(n=e[0].type),void 0===s&&(s=e[0].nullable),void 0===o&&(o=e[0].metadata)),new qi(`${r}`,n,s,o)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];let[r,n,s,o]=e;return e[0]&&"object"===typeof e[0]?({name:r=this.name,type:n=this.type,nullable:s=this.nullable,metadata:o=this.metadata}=e[0]):[r=this.name,n=this.type,s=this.nullable,o=this.metadata]=e,qi.new(r,n,s,o)}}function Gi(t,e){return new Map([...t||new Map,...e||new Map])}function Zi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;for(let i=-1,r=t.length;++i<r;){const r=t[i].type;if(Ft.isDictionary(r))if(e.has(r.id)){if(e.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else e.set(r.id,r.dictionary);r.children&&r.children.length>0&&Zi(r.children,e)}return e}qi.prototype.type=null,qi.prototype.name=null,qi.prototype.nullable=null,qi.prototype.metadata=null;class Qi extends te{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every(((t,i)=>this.compareFields(t,e[i])))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function tr(t,e){return e instanceof t.constructor}function er(t,e){return t===e||tr(t,e)}function ir(t,e){return t===e||tr(t,e)&&t.bitWidth===e.bitWidth&&t.isSigned===e.isSigned}function rr(t,e){return t===e||tr(t,e)&&t.precision===e.precision}function nr(t,e){return t===e||tr(t,e)&&t.unit===e.unit}function sr(t,e){return t===e||tr(t,e)&&t.unit===e.unit&&t.timezone===e.timezone}function or(t,e){return t===e||tr(t,e)&&t.unit===e.unit&&t.bitWidth===e.bitWidth}function ar(t,e){return t===e||tr(t,e)&&t.mode===e.mode&&t.typeIds.every(((t,i)=>t===e.typeIds[i]))&&lr.compareManyFields(t.children,e.children)}function cr(t,e){return t===e||tr(t,e)&&t.unit===e.unit}Qi.prototype.visitNull=er,Qi.prototype.visitBool=er,Qi.prototype.visitInt=ir,Qi.prototype.visitInt8=ir,Qi.prototype.visitInt16=ir,Qi.prototype.visitInt32=ir,Qi.prototype.visitInt64=ir,Qi.prototype.visitUint8=ir,Qi.prototype.visitUint16=ir,Qi.prototype.visitUint32=ir,Qi.prototype.visitUint64=ir,Qi.prototype.visitFloat=rr,Qi.prototype.visitFloat16=rr,Qi.prototype.visitFloat32=rr,Qi.prototype.visitFloat64=rr,Qi.prototype.visitUtf8=er,Qi.prototype.visitBinary=er,Qi.prototype.visitFixedSizeBinary=function(t,e){return t===e||tr(t,e)&&t.byteWidth===e.byteWidth},Qi.prototype.visitDate=nr,Qi.prototype.visitDateDay=nr,Qi.prototype.visitDateMillisecond=nr,Qi.prototype.visitTimestamp=sr,Qi.prototype.visitTimestampSecond=sr,Qi.prototype.visitTimestampMillisecond=sr,Qi.prototype.visitTimestampMicrosecond=sr,Qi.prototype.visitTimestampNanosecond=sr,Qi.prototype.visitTime=or,Qi.prototype.visitTimeSecond=or,Qi.prototype.visitTimeMillisecond=or,Qi.prototype.visitTimeMicrosecond=or,Qi.prototype.visitTimeNanosecond=or,Qi.prototype.visitDecimal=er,Qi.prototype.visitList=function(t,e){return t===e||tr(t,e)&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)},Qi.prototype.visitStruct=function(t,e){return t===e||tr(t,e)&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)},Qi.prototype.visitUnion=ar,Qi.prototype.visitDenseUnion=ar,Qi.prototype.visitSparseUnion=ar,Qi.prototype.visitDictionary=function(t,e){return t===e||tr(t,e)&&t.id===e.id&&t.isOrdered===e.isOrdered&&lr.visit(t.indices,e.indices)&&lr.visit(t.dictionary,e.dictionary)},Qi.prototype.visitInterval=cr,Qi.prototype.visitIntervalDayTime=cr,Qi.prototype.visitIntervalYearMonth=cr,Qi.prototype.visitFixedSizeList=function(t,e){return t===e||tr(t,e)&&t.listSize===e.listSize&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)},Qi.prototype.visitMap=function(t,e){return t===e||tr(t,e)&&t.keysSorted===e.keysSorted&&t.children.length===e.children.length&&lr.compareManyFields(t.children,e.children)};const lr=new Qi;function hr(t,e){return lr.compareSchemas(t,e)}var ur,dr;class pr{constructor(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof Xi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Ji({nullCount:0,type:new Wt(this.schema.fields),children:this.schema.fields.map((t=>Ji({type:t.type,nullCount:0})))})]=e,!(this.data instanceof Yi))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=fr(this.schema,this.data.children);break;case 1:{const[t]=e,{fields:i,children:r,length:n}=Object.keys(t).reduce(((e,i,r)=>(e.children[r]=t[i],e.length=Math.max(e.length,t[i].length),e.fields[r]=qi.new({name:i,type:t[i].type,nullable:!0}),e)),{length:0,fields:new Array,children:new Array}),s=new Xi(i),o=Ji({type:new Wt(i),length:n,children:r,nullCount:0});[this.schema,this.data]=fr(s,o.children,n);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=yr(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ti.visit(this.data,t)}set(t,e){return Oe.visit(this.data,t,e)}indexOf(t,e){return Fi.visit(this.data,t,e)}getByteLength(t){return Pi.visit(this.data,t)}[Symbol.iterator](){return Li.visit(new Hi([this.data]))}toArray(){return[...this]}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new _r(this.schema,[this,...e])}slice(t,e){const[i]=new Hi([this.data]).slice(t,e).data;return new pr(this.schema,i)}getChild(t){var e;return this.getChildAt(null===(e=this.schema.fields)||void 0===e?void 0:e.findIndex((e=>e.name===t)))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new Hi([this.data.children[t]]):null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,r=this.data;if(t>-1&&t<this.numCols){e||(e=new Hi([Ji({type:new Nt,length:this.numRows})]));const n=i.fields.slice(),s=r.children.slice(),o=n[t].clone({type:e.type});[n[t],s[t]]=[o,e.data[0]],i=new Xi(n,new Map(this.schema.metadata)),r=Ji({type:new Wt(n),children:s})}return new pr(i,r)}select(t){const e=this.schema.select(t),i=new Wt(e.fields),r=[];for(const n of t){const t=this.schema.fields.findIndex((t=>t.name===n));~t&&(r[t]=this.data.children[t])}return new pr(e,Ji({type:i,length:this.numRows,children:r}))}selectAt(t){const e=this.schema.selectAt(t),i=t.map((t=>this.data.children[t])).filter(Boolean),r=Ji({type:new Wt(e.fields),length:this.numRows,children:i});return new pr(e,r)}}function fr(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.reduce(((t,e)=>Math.max(t,e.length)),0);var r;const n=[...t.fields],s=[...e],o=(i+63&-64)>>3;for(const[a,c]of t.fields.entries()){const t=e[a];t&&t.length===i||(n[a]=c.clone({nullable:!0}),s[a]=null!==(r=null===t||void 0===t?void 0:t._changeLengthAndBackfillNullBitmap(i))&&void 0!==r?r:Ji({type:c.type,length:i,nullCount:i,nullBitmap:new Uint8Array(o)}))}return[t.assign(n),Ji({type:new Wt(n),length:i,children:s})]}function yr(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let r=-1,n=t.length;++r<n;){const n=t[r].type,s=e[r];if(Ft.isDictionary(n))if(i.has(n.id)){if(i.get(n.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&i.set(n.id,s.dictionary);n.children&&n.children.length>0&&yr(n.children,s.children,i)}return i}ur=Symbol.toStringTag,pr[ur]=(t=>(t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(pr.prototype);class br extends pr{constructor(t){const e=t.fields.map((t=>Ji({type:t.type})));super(t,Ji({type:new Wt(t.fields),nullCount:0,children:e}))}}function gr(t,e){return function(t,e){const i=[...t.fields],r=[],n={numBatches:e.reduce(((t,e)=>Math.max(t,e.length)),0)};let s=0,o=0,a=-1;const c=e.length;let l,h=[];for(;n.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)h[a]=l=e[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(h=mr(i,o,h,e,n),o>0&&(r[s++]=Ji({type:new Wt(i),length:o,nullCount:0,children:h.slice()})))}return[t=t.assign(i),r.map((e=>new pr(t,e)))]}(t,e.map((t=>t.data.concat())))}function mr(t,e,i,r,n){var s;const o=(e+63&-64)>>3;for(let a=-1,c=r.length;++a<c;){const c=i[a],l=null===c||void 0===c?void 0:c.length;if(l>=e)l===e?i[a]=c:(i[a]=c.slice(0,e),n.numBatches=Math.max(n.numBatches,r[a].unshift(c.slice(e,l-e))));else{const r=t[a];t[a]=r.clone({nullable:!0}),i[a]=null!==(s=null===c||void 0===c?void 0:c._changeLengthAndBackfillNullBitmap(e))&&void 0!==s?s:Ji({type:r.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)})}}return i}class _r{constructor(){for(var t,e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];if(0===r.length)return this.batches=[],this.schema=new Xi([]),this._offsets=[0],this;let s,o;r[0]instanceof Xi&&(s=r.shift()),r[r.length-1]instanceof Uint32Array&&(o=r.pop());const a=t=>{if(t){if(t instanceof pr)return[t];if(t instanceof _r)return t.batches;if(t instanceof Yi){if(t.type instanceof Wt)return[new pr(new Xi(t.type.children),t)]}else{if(Array.isArray(t))return t.flatMap((t=>a(t)));if("function"===typeof t[Symbol.iterator])return[...t].flatMap((t=>a(t)));if("object"===typeof t){const e=Object.keys(t),i=e.map((e=>new Hi([t[e]]))),r=new Xi(e.map(((t,e)=>new qi(String(t),i[e].type)))),[,n]=gr(r,i);return 0===n.length?[new pr(t)]:n}}}return[]},c=r.flatMap((t=>a(t)));if(s=null!==(e=null!==s&&void 0!==s?s:null===(t=c[0])||void 0===t?void 0:t.schema)&&void 0!==e?e:new Xi([]),!(s instanceof Xi))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const l of c){if(!(l instanceof pr))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!hr(s,l.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=c,this._offsets=null!==o&&void 0!==o?o:fi(this.data)}get data(){return this.batches.map((t=>{let{data:e}=t;return e}))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce(((t,e)=>t+e.length),0)}get nullCount(){return-1===this._nullCount&&(this._nullCount=pi(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Li.visit(new Hi(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[\n  ${this.toArray().join(",\n  ")}\n]`}concat(){const t=this.schema;for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];const n=this.data.concat(i.flatMap((t=>{let{data:e}=t;return e})));return new _r(t,n.map((e=>new pr(t,e))))}slice(t,e){const i=this.schema;[t,e]=ai({length:this.numRows},t,e);const r=yi(this.data,this._offsets,t,e);return new _r(i,r.map((t=>new pr(i,t))))}getChild(t){return this.getChildAt(this.schema.fields.findIndex((e=>e.name===t)))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map((e=>e.children[t]));if(0===e.length){const{type:i}=this.schema.fields[t],r=Ji({type:i,length:0,nullCount:0});e.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new Hi(e)}return null}setChild(t,e){var i;return this.setChildAt(null===(i=this.schema.fields)||void 0===i?void 0:i.findIndex((e=>e.name===t)),e)}setChildAt(t,e){let i=this.schema,r=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new Hi([Ji({type:new Nt,length:this.numRows})]));const n=i.fields.slice(),s=n[t].clone({type:e.type}),o=this.schema.fields.map(((t,e)=>this.getChildAt(e)));[n[t],o[t]]=[s,e],[i,r]=gr(i,o)}return new _r(i,r)}select(t){const e=this.schema.fields.reduce(((t,e,i)=>t.set(e.name,i)),new Map);return this.selectAt(t.map((t=>e.get(t))).filter((t=>t>-1)))}selectAt(t){const e=this.schema.selectAt(t),i=this.batches.map((e=>e.selectAt(t)));return new _r(e,i)}assign(t){const e=this.schema.fields,[i,r]=t.schema.fields.reduce(((t,i,r)=>{const[n,s]=t,o=e.findIndex((t=>t.name===i.name));return~o?s[o]=r:n.push(r),t}),[[],[]]),n=this.schema.assign(t.schema),s=[...e.map(((t,e)=>[e,r[e]])).map((e=>{let[i,r]=e;return void 0===r?this.getChildAt(i):t.getChildAt(r)})),...i.map((e=>t.getChildAt(e)))].filter(Boolean);return new _r(...gr(n,s))}}dr=Symbol.toStringTag,_r[dr]=(t=>(t.schema=null,t.batches=[],t._offsets=new Uint32Array([0]),t._nullCount=-1,t[Symbol.isConcatSpreadable]=!0,t.isValid=mi(gi),t.get=mi(ti.getVisitFn(h.Struct)),t.set=_i(Oe.getVisitFn(h.Struct)),t.indexOf=vi(Fi.getVisitFn(h.Struct)),t.getByteLength=mi(Pi.getVisitFn(h.Struct)),"Table"))(_r.prototype);class vr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,i,r){return t.prep(8,24),t.writeInt64(r),t.pad(4),t.writeInt32(i),t.writeInt64(e),t.offset()}}const wr=new Int32Array(2),Sr=new Float32Array(wr.buffer),Ir=new Float64Array(wr.buffer),Br=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class Ar{constructor(t,e){this.low=0|t,this.high=0|e}static create(t,e){return 0==t&&0==e?Ar.ZERO:new Ar(t,e)}toFloat64(){return(this.low>>>0)+4294967296*this.high}equals(t){return this.low==t.low&&this.high==t.high}}var Tr,Or,xr,Dr,Mr;Ar.ZERO=new Ar(0,0),function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"}(Tr||(Tr={}));class Fr{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Fr(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Ar(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Ar(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return wr[0]=this.readInt32(t),Sr[0]}readFloat64(t){return wr[Br?0:1]=this.readInt32(t),wr[Br?1:0]=this.readInt32(t+4),Ir[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Sr[0]=e,this.writeInt32(t,wr[0])}writeFloat64(t,e){Ir[0]=e,this.writeInt32(t,wr[Br?0:1]),this.writeInt32(t+4,wr[Br?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const i=this.readInt32(t);let r="",n=0;if(t+=4,e===Tr.UTF8_BYTES)return this.bytes_.subarray(t,t+i);for(;n<i;){let e;const i=this.readUint8(t+n++);if(i<192)e=i;else{const r=this.readUint8(t+n++);if(i<224)e=(31&i)<<6|63&r;else{const s=this.readUint8(t+n++);if(i<240)e=(15&i)<<12|(63&r)<<6|63&s;else{e=(7&i)<<18|(63&r)<<12|(63&s)<<6|63&this.readUint8(t+n++)}}}e<65536?r+=String.fromCharCode(e):(e-=65536,r+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return r}__union_with_string(t,e){return"string"===typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createLong(t,e){return Ar.create(t,e)}createScalarList(t,e){const i=[];for(let r=0;r<e;++r)null!==t(r)&&i.push(t(r));return i}createObjList(t,e){const i=[];for(let r=0;r<e;++r){const e=t(r);null!==e&&i.push(e.unpack())}return i}}class Nr{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,e=t||1024,this.bb=Fr.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const i=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<i+t+e;){const t=this.bb.capacity();this.bb=Nr.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(i)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,i){e!=i&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const i=e<<1,r=Fr.allocate(i);return r.setPosition(i-e),r.bytes().set(t.bytes(),i-e),r}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const i=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);this.addInt16(t-this.object_start);const r=2*(i+2);this.addInt16(r);let n=0;const s=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(t)){for(let e=2;e<r;e+=2)if(this.bb.readInt16(s+e)!=this.bb.readInt16(t+e))continue t;n=this.vtables[e];break}}return n?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,n-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,i){const r=i?4:0;if(e){const t=e;if(this.prep(this.minalign,8+r),4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+r),this.addOffset(t),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const i=this.bb.capacity()-t,r=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(r+e)))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,i){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(i,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let i=0;for(;i<t.length;){let r;const n=t.charCodeAt(i++);if(n<55296||n>=56320)r=n;else{r=(n<<10)+t.charCodeAt(i++)+-56613888}r<128?e.push(r):(r<2048?e.push(r>>6&31|192):(r<65536?e.push(r>>12&15|224):e.push(r>>18&7|240,r>>12&63|128),e.push(r>>6&63|128)),e.push(63&r|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let i=0,r=this.space,n=this.bb.bytes();i<e.length;i++)n[r++]=e[i];return this.endVector()}createLong(t,e){return Ar.create(t,e)}createObjectOffset(t){return null===t?0:"string"===typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let i=0;i<t.length;++i){const r=t[i];if(null===r)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(r))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}}class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+4),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,i){return Cr.startKeyValue(t),Cr.addKey(t,e),Cr.addValue(t,i),Cr.endKeyValue(t)}}!function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"}(Or||(Or={})),function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(xr||(xr={})),function(t){t[t.DenseArray=0]="DenseArray"}(Dr||(Dr={}));class Ur{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+4),(e||new Ur).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,i){return Ur.startInt(t),Ur.addBitWidth(t,e),Ur.addIsSigned(t,i),Ur.endInt(t)}}class Lr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+4),(e||new Lr).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ur).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Dr.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Dr.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}!function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList"}(Mr||(Mr={}));class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+4),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Mr.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Lr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const i=this.bb.__offset(this.bb_pos,14);return i?(e||new kr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,16);return i?(e||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Mr.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}}class Er{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+4),(e||new Er).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):xr.Little}fields(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new kr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,xr.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let i=e.length-1;i>=0;i--)t.addInt64(e[i]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,i,r,n){return Er.startSchema(t),Er.addEndianness(t,e),Er.addFields(t,i),Er.addCustomMetadata(t,r),Er.addFeatures(t,n),Er.endSchema(t)}}class Rr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+4),(e||new Rr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Or.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Er).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new vr).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const i=this.bb.__offset(this.bb_pos,10);return i?(e||new vr).__init(this.bb.__vector(this.bb_pos+i)+24*t,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Or.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}var zr=Ar,Pr=Nr,jr=Fr;class Vr{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.V4,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.schema=t,this.version=e,i&&(this._recordBatches=i),n&&(this._dictionaryBatches=n)}static decode(t){t=new jr(q(t));const e=Rr.getRootAsFooter(t),i=Xi.decode(e.schema());return new $r(i,e)}static encode(t){const e=new Pr,i=Xi.encode(e,t.schema);Rr.startRecordBatchesVector(e,t.numRecordBatches);for(const r of[...t.recordBatches()].slice().reverse())Hr.encode(e,r);const n=e.endVector();Rr.startDictionariesVector(e,t.numDictionaries);for(const r of[...t.dictionaryBatches()].slice().reverse())Hr.encode(e,r);const s=e.endVector();return Rr.startFooter(e),Rr.addSchema(e,i),Rr.addVersion(e,r.V4),Rr.addRecordBatches(e,n),Rr.addDictionaries(e,s),Rr.finishFooterBuffer(e,Rr.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,i=this.numRecordBatches;++e<i;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,i=this.numDictionaries;++e<i;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class $r extends Vr{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Hr.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Hr.decode(e)}return null}}class Hr{constructor(t,e,i){this.metaDataLength=t,this.offset="number"===typeof i?i:i.low,this.bodyLength="number"===typeof e?e:e.low}static decode(t){return new Hr(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:i}=e,r=new zr(e.offset,0),n=new zr(e.bodyLength,0);return vr.createBlock(t,r,i,n)}}const Wr={fromIterable:t=>Yr(function*(t){let e,i,r,n,s=!1,o=[],a=0;function c(){return"peek"===r?K(o,n)[0]:([i,o,a]=K(o,n),i)}({cmd:r,size:n}=yield null);const l=(h=t,Z(Uint8Array,h))[Symbol.iterator]();var h;try{do{if(({done:e,value:i}=Number.isNaN(n-a)?l.next():l.next(n-a)),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||n<=a)do{({cmd:r,size:n}=yield c())}while(n<a)}while(!e)}catch(u){(s=!0)&&"function"===typeof l.throw&&l.throw(u)}finally{!1===s&&"function"===typeof l.return&&l.return(null)}return null}(t)),fromAsyncIterable:t=>Yr(function(t){return R(this,arguments,(function*(){let e,i,r,n,s=!1,o=[],a=0;function c(){return"peek"===r?K(o,n)[0]:([i,o,a]=K(o,n),i)}({cmd:r,size:n}=yield yield E(null));const l=(h=t,Q(Uint8Array,h))[Symbol.asyncIterator]();var h;try{do{if(({done:e,value:i}=Number.isNaN(n-a)?yield E(l.next()):yield E(l.next(n-a))),!e&&i.byteLength>0&&(o.push(i),a+=i.byteLength),e||n<=a)do{({cmd:r,size:n}=yield yield E(c()))}while(n<a)}while(!e)}catch(u){(s=!0)&&"function"===typeof l.throw&&(yield E(l.throw(u)))}finally{!1===s&&"function"===typeof l.return&&(yield E(l.return(new Uint8Array(0))))}return yield E(null)}))}(t)),fromDOMStream:t=>Yr(function(t){return R(this,arguments,(function*(){let e,i,r,n=!1,s=!1,o=[],a=0;function c(){return"peek"===i?K(o,r)[0]:([e,o,a]=K(o,r),e)}({cmd:i,size:r}=yield yield E(null));const l=new Kr(t);try{do{if(({done:n,value:e}=Number.isNaN(r-a)?yield E(l.read()):yield E(l.read(r-a))),!n&&e.byteLength>0&&(o.push(q(e)),a+=e.byteLength),n||r<=a)do{({cmd:i,size:r}=yield yield E(c()))}while(r<a)}while(!n)}catch(h){(s=!0)&&(yield E(l.cancel(h)))}finally{!1===s?yield E(l.cancel()):t.locked&&l.releaseLock()}return yield E(null)}))}(t)),fromNodeStream:t=>Yr(function(t){return R(this,arguments,(function*(){const e=[];let i,r,n,s="error",o=!1,a=null,c=0,l=[];function h(){return"peek"===i?K(l,r)[0]:([n,l,c]=K(l,r),n)}if(({cmd:i,size:r}=yield yield E(null)),t.isTTY)return yield yield E(new Uint8Array(0)),yield E(null);try{e[0]=Jr(t,"end"),e[1]=Jr(t,"error");do{if(e[2]=Jr(t,"readable"),[s,a]=yield E(Promise.race(e.map((t=>t[2])))),"error"===s)break;if((o="end"===s)||(Number.isFinite(r-c)?(n=q(t.read(r-c)),n.byteLength<r-c&&(n=q(t.read()))):n=q(t.read()),n.byteLength>0&&(l.push(n),c+=n.byteLength)),o||r<=c)do{({cmd:i,size:r}=yield yield E(h()))}while(r<c)}while(!o)}finally{yield E(u(e,"error"===s?a:null))}return yield E(null);function u(e,i){return n=l=null,new Promise(((r,n)=>{for(const[i,o]of e)t.off(i,o);try{const e=t.destroy;e&&e.call(t,i),i=void 0}catch(s){i=s||i}finally{null!=i?n(i):r()}}))}}))}(t)),toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}},Yr=t=>(t.next(),t);class Kr{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((()=>{}))}get closed(){return this.reader?this.reader.closed.catch((()=>{})):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return L(this,void 0,void 0,(function*(){const{reader:e,source:i}=this;e&&(yield e.cancel(t).catch((()=>{}))),i&&i.locked&&this.releaseLock()}))}read(t){return L(this,void 0,void 0,(function*(){if(0===t)return{done:null==this.reader,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=q(e)),e}))}}const Jr=(t,e)=>{const i=t=>r([e,t]);let r;return[e,i,new Promise((n=>(r=n)&&t.once(e,i)))]};const Xr=Object.freeze({done:!0,value:void 0});class qr{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Gr{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Zr extends Gr{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}get closed(){return this._closedPromise}cancel(t){return L(this,void 0,void 0,(function*(){yield this.return(t)}))}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Xr);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Wr.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Wr.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return L(this,void 0,void 0,(function*(){return yield this.abort(t),Xr}))}return(t){return L(this,void 0,void 0,(function*(){return yield this.close(),Xr}))}read(t){return L(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return L(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise(((t,e)=>{this.resolvers.push({resolve:t,reject:e})})):Promise.resolve(Xr)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Qr extends Zr{write(t){if((t=q(t)).byteLength>0)return super.write(t)}toString(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?V(this.toUint8Array(!0)):this.toUint8Array(!1).then(V)}toUint8Array(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?K(this._values)[0]:(()=>L(this,void 0,void 0,(function*(){var t,e;const i=[];let r=0;try{for(var n,s=P(this);!(n=yield s.next()).done;){const t=n.value;i.push(t),r+=t.byteLength}}catch(o){t={error:o}}finally{try{n&&!n.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return K(i,r)[0]})))()}}class tn{constructor(t){t&&(this.source=new rn(Wr.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class en{constructor(t){t instanceof en?this.source=t.source:t instanceof Qr?this.source=new nn(Wr.fromAsyncIterable(t)):N(t)?this.source=new nn(Wr.fromNodeStream(t)):F(t)?this.source=new nn(Wr.fromDOMStream(t)):D(t)?this.source=new nn(Wr.fromDOMStream(t.body)):B(t)?this.source=new nn(Wr.fromIterable(t)):(I(t)||A(t))&&(this.source=new nn(Wr.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rn{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Xr)}return(t){return Object.create(this.source.return&&this.source.return(t)||Xr)}}class nn{constructor(t){this.source=t,this._closedPromise=new Promise((t=>this._closedPromiseResolve=t))}cancel(t){return L(this,void 0,void 0,(function*(){yield this.return(t)}))}get closed(){return this._closedPromise}read(t){return L(this,void 0,void 0,(function*(){return(yield this.next(t,"read")).value}))}peek(t){return L(this,void 0,void 0,(function*(){return(yield this.next(t,"peek")).value}))}next(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return L(this,void 0,void 0,(function*(){return yield this.source.next({cmd:e,size:t})}))}throw(t){return L(this,void 0,void 0,(function*(){const e=this.source.throw&&(yield this.source.throw(t))||Xr;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}return(t){return L(this,void 0,void 0,(function*(){const e=this.source.return&&(yield this.source.return(t))||Xr;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)}))}}class sn extends tn{constructor(t,e){super(),this.position=0,this.buffer=q(t),this.size="undefined"===typeof e?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:i}=this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:i,position:r}=this;return e&&r<i?("number"!==typeof t&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(i,r+Math.min(i-r,t)),e.subarray(r,this.position)):null}readAt(t,e){const i=this.buffer,r=Math.min(this.size,t+e);return i?i.subarray(t,r):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class on extends en{constructor(t,e){super(),this.position=0,this._handle=t,"number"===typeof e?this.size=e:this._pending=(()=>L(this,void 0,void 0,(function*(){this.size=(yield t.stat()).size,delete this._pending})))()}readInt32(t){return L(this,void 0,void 0,(function*(){const{buffer:e,byteOffset:i}=yield this.readAt(t,4);return new DataView(e,i).getInt32(0,!0)}))}seek(t){return L(this,void 0,void 0,(function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size}))}read(t){return L(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:e,size:i,position:r}=this;if(e&&r<i){"number"!==typeof t&&(t=Number.POSITIVE_INFINITY);let n=r,s=0,o=0;const a=Math.min(i,n+Math.min(i-n,t)),c=new Uint8Array(Math.max(0,(this.position=a)-n));for(;(n+=o)<a&&(s+=o)<c.byteLength;)({bytesRead:o}=yield e.read(c,s,c.byteLength-s,n));return c}return null}))}readAt(t,e){return L(this,void 0,void 0,(function*(){this._pending&&(yield this._pending);const{_handle:i,size:r}=this;if(i&&t+e<r){const n=Math.min(r,t+e),s=new Uint8Array(n-t);return(yield i.read(s,0,e,t)).buffer}return new Uint8Array(e)}))}close(){return L(this,void 0,void 0,(function*(){const t=this._handle;this._handle=null,t&&(yield t.close())}))}throw(t){return L(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}return(t){return L(this,void 0,void 0,(function*(){return yield this.close(),{done:!0,value:t}}))}}function an(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const cn=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class ln{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),i=new Uint32Array([t.buffer[1]>>>16,65535&t.buffer[1],t.buffer[0]>>>16,65535&t.buffer[0]]);let r=e[3]*i[3];this.buffer[0]=65535&r;let n=r>>>16;return r=e[2]*i[3],n+=r,r=e[3]*i[2]>>>0,n+=r,this.buffer[0]+=n<<16,this.buffer[1]=n>>>0<r?65536:0,this.buffer[1]+=n>>>16,this.buffer[1]+=e[1]*i[3]+e[2]*i[2]+e[3]*i[1],this.buffer[1]+=e[0]*i[3]+e[1]*i[2]+e[2]*i[1]+e[3]*i[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${an(this.buffer[1])} ${an(this.buffer[0])}`}}class hn extends ln{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return hn.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return hn.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.length,r=new hn(e);for(let n=0;n<i;){const e=8<i-n?8:i-n,s=new hn(new Uint32Array([Number.parseInt(t.slice(n,n+e),10),0])),o=new hn(new Uint32Array([cn[e],0]));r.times(o),r.plus(s),n+=e}return r}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,r=t.length;++i<r;)hn.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new hn(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new hn(new Uint32Array(t.buffer)).plus(e)}}class un extends ln{negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]|0,i=t.buffer[1]|0;return e<i||e===i&&this.buffer[0]<t.buffer[0]}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return un.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return un.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);const i=t.startsWith("-"),r=t.length,n=new un(e);for(let s=i?1:0;s<r;){const e=8<r-s?8:r-s,i=new un(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0])),o=new un(new Uint32Array([cn[e],0]));n.times(o),n.plus(i),s+=e}return i?n.negate():n}static convertArray(t){const e=new Uint32Array(2*t.length);for(let i=-1,r=t.length;++i<r;)un.from(t[i],new Uint32Array(e.buffer,e.byteOffset+2*i*4,2));return e}static multiply(t,e){return new un(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new un(new Uint32Array(t.buffer)).plus(e)}}class dn{constructor(t){this.buffer=t}high(){return new un(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new un(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(t){const e=new hn(new Uint32Array([this.buffer[3],0])),i=new hn(new Uint32Array([this.buffer[2],0])),r=new hn(new Uint32Array([this.buffer[1],0])),n=new hn(new Uint32Array([this.buffer[0],0])),s=new hn(new Uint32Array([t.buffer[3],0])),o=new hn(new Uint32Array([t.buffer[2],0])),a=new hn(new Uint32Array([t.buffer[1],0])),c=new hn(new Uint32Array([t.buffer[0],0]));let l=hn.multiply(n,c);this.buffer[0]=l.low();const h=new hn(new Uint32Array([l.high(),0]));l=hn.multiply(r,c),h.plus(l),l=hn.multiply(n,a),h.plus(l),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(l)?1:0,this.buffer[2]=h.high();return new hn(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(hn.multiply(i,c)).plus(hn.multiply(r,a)).plus(hn.multiply(n,o)),this.buffer[3]+=hn.multiply(e,c).plus(hn.multiply(i,a)).plus(hn.multiply(r,o)).plus(hn.multiply(n,s)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${an(this.buffer[3])} ${an(this.buffer[2])} ${an(this.buffer[1])} ${an(this.buffer[0])}`}static multiply(t,e){return new dn(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new dn(new Uint32Array(t.buffer)).plus(e)}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return dn.fromString("string"===typeof t?t:t.toString(),e)}static fromNumber(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return dn.fromString(t.toString(),e)}static fromString(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);const i=t.startsWith("-"),r=t.length,n=new dn(e);for(let s=i?1:0;s<r;){const e=8<r-s?8:r-s,i=new dn(new Uint32Array([Number.parseInt(t.slice(s,s+e),10),0,0,0])),o=new dn(new Uint32Array([cn[e],0,0,0]));n.times(o),n.plus(i),s+=e}return i?n.negate():n}static convertArray(t){const e=new Uint32Array(4*t.length);for(let i=-1,r=t.length;++i<r;)dn.from(t[i],new Uint32Array(e.buffer,e.byteOffset+16*i,4));return e}}class pn extends te{constructor(t,e,i,r){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=i,this.dictionaries=r}visit(t){return super.visit(t instanceof qi?t.type:t)}visitNull(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e})}visitBool(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitInt(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFloat(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitUtf8(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDate(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTimestamp(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitTime(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitDecimal(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===n.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),data:this.readData(t)})}visitFixedSizeList(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),child:this.visit(t.children[0])})}visitMap(t){let{length:e,nullCount:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode();return Ji({type:t,length:e,nullCount:i,nullBitmap:this.readNullBitmap(t,i),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e>0&&this.readData(t,i)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t){let{length:e,offset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return this.bytes.subarray(i,i+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class fn extends pn{constructor(t,e,i,r){super(new Uint8Array(0),e,i,r),this.sources=t}readNullBitmap(t,e){let{offset:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return e<=0?new Uint8Array(0):Bi(this.sources[i])}readOffsets(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return J(Uint8Array,J(Int32Array,this.sources[e]))}readTypeIds(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();return J(Uint8Array,J(t.ArrayType,this.sources[e]))}readData(t){let{offset:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange();const{sources:i}=this;return Ft.isTimestamp(t)||(Ft.isInt(t)||Ft.isTime(t))&&64===t.bitWidth||Ft.isDate(t)&&t.unit===o.MILLISECOND?J(Uint8Array,un.convertArray(i[e])):Ft.isDecimal(t)?J(Uint8Array,dn.convertArray(i[e])):Ft.isBinary(t)||Ft.isFixedSizeBinary(t)?function(t){const e=t.join(""),i=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)i[r>>1]=Number.parseInt(e.slice(r,r+2),16);return i}(i[e]):Ft.isBool(t)?Bi(i[e]):Ft.isUtf8(t)?H(i[e].join("")):J(Uint8Array,J(t.ArrayType,i[e].map((t=>+t))))}}var yn,bn,gn,mn,_n,vn,wn,Sn;!function(t){t[t.BUFFER=0]="BUFFER"}(yn||(yn={})),function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"}(bn||(bn={}));class In{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new In).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+4),(e||new In).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):bn.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):yn.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,bn.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,yn.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,i){return In.startBodyCompression(t),In.addCodec(t,e),In.addMethod(t,i),In.endBodyCompression(t)}}class Bn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class An{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,i){return t.prep(8,16),t.writeInt64(i),t.writeInt64(e),t.offset()}}class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Tn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+4),(e||new Tn).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const i=this.bb.__offset(this.bb_pos,6);return i?(e||new An).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const i=this.bb.__offset(this.bb_pos,8);return i?(e||new Bn).__init(this.bb.__vector(this.bb_pos+i)+16*t,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new In).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}}class On{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new On).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+4),(e||new On).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Tn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}}!function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"}(gn||(gn={}));class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new xn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+4),(e||new xn).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):gn.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,gn.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return xn.startFloatingPoint(t),xn.addPrecision(t,e),xn.endFloatingPoint(t)}}class Dn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Dn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+4),(e||new Dn).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,i,r){return Dn.startDecimal(t),Dn.addPrecision(t,e),Dn.addScale(t,i),Dn.addBitWidth(t,r),Dn.endDecimal(t)}}!function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"}(mn||(mn={}));class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new Mn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+4),(e||new Mn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):mn.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,mn.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return Mn.startDate(t),Mn.addUnit(t,e),Mn.endDate(t)}}!function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"}(_n||(_n={}));class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+4),(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_n.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_n.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,i){return Fn.startTime(t),Fn.addUnit(t,e),Fn.addBitWidth(t,i),Fn.endTime(t)}}class Nn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Nn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+4),(e||new Nn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_n.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,_n.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,i){return Nn.startTimestamp(t),Nn.addUnit(t,e),Nn.addTimezone(t,i),Nn.endTimestamp(t)}}!function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(vn||(vn={}));class Cn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new Cn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+4),(e||new Cn).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):vn.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,vn.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return Cn.startInterval(t),Cn.addUnit(t,e),Cn.endInterval(t)}}!function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"}(wn||(wn={}));class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+4),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wn.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,wn.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,i){return Un.startUnion(t),Un.addMode(t,e),Un.addTypeIds(t,i),Un.endUnion(t)}}class Ln{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+4),(e||new Ln).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return Ln.startFixedSizeBinary(t),Ln.addByteWidth(t,e),Ln.endFixedSizeBinary(t)}}class kn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new kn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+4),(e||new kn).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return kn.startFixedSizeList(t),kn.addListSize(t,e),kn.endFixedSizeList(t)}}class En{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new En).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+4),(e||new En).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return En.startMap(t),En.addKeysSorted(t,e),En.endMap(t)}}!function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"}(Sn||(Sn={}));class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+4),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Or.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Sn.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const i=this.bb.__offset(this.bb_pos,12);return i?(e||new Cr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*t),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Or.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Sn.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,i,r,n,s){return Rn.startMessage(t),Rn.addVersion(t,e),Rn.addHeaderType(t,i),Rn.addHeader(t,r),Rn.addBodyLength(t,n),Rn.addCustomMetadata(t,s),Rn.endMessage(t)}}class zn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+4),(e||new zn).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return zn.startNull(t),zn.endNull(t)}}class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+4),(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Pn.startBinary(t),Pn.endBinary(t)}}class jn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new jn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+4),(e||new jn).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return jn.startBool(t),jn.endBool(t)}}class Vn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+4),(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Vn.startUtf8(t),Vn.endUtf8(t)}}class $n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new $n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+4),(e||new $n).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return $n.startList(t),$n.endList(t)}}class Hn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Hn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+4),(e||new Hn).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Hn.startStruct_(t),Hn.endStruct_(t)}}var Wn=Ar;const Yn=new class extends te{visit(t,e){return null==t||null==e?void 0:super.visit(t,e)}visitNull(t,e){return zn.startNull(e),zn.endNull(e)}visitInt(t,e){return Ur.startInt(e),Ur.addBitWidth(e,t.bitWidth),Ur.addIsSigned(e,t.isSigned),Ur.endInt(e)}visitFloat(t,e){return xn.startFloatingPoint(e),xn.addPrecision(e,t.precision),xn.endFloatingPoint(e)}visitBinary(t,e){return Pn.startBinary(e),Pn.endBinary(e)}visitBool(t,e){return jn.startBool(e),jn.endBool(e)}visitUtf8(t,e){return Vn.startUtf8(e),Vn.endUtf8(e)}visitDecimal(t,e){return Dn.startDecimal(e),Dn.addScale(e,t.scale),Dn.addPrecision(e,t.precision),Dn.addBitWidth(e,t.bitWidth),Dn.endDecimal(e)}visitDate(t,e){return Mn.startDate(e),Mn.addUnit(e,t.unit),Mn.endDate(e)}visitTime(t,e){return Fn.startTime(e),Fn.addUnit(e,t.unit),Fn.addBitWidth(e,t.bitWidth),Fn.endTime(e)}visitTimestamp(t,e){const i=t.timezone&&e.createString(t.timezone)||void 0;return Nn.startTimestamp(e),Nn.addUnit(e,t.unit),void 0!==i&&Nn.addTimezone(e,i),Nn.endTimestamp(e)}visitInterval(t,e){return Cn.startInterval(e),Cn.addUnit(e,t.unit),Cn.endInterval(e)}visitList(t,e){return $n.startList(e),$n.endList(e)}visitStruct(t,e){return Hn.startStruct_(e),Hn.endStruct_(e)}visitUnion(t,e){Un.startTypeIdsVector(e,t.typeIds.length);const i=Un.createTypeIdsVector(e,t.typeIds);return Un.startUnion(e),Un.addMode(e,t.mode),Un.addTypeIds(e,i),Un.endUnion(e)}visitDictionary(t,e){const i=this.visit(t.indices,e);return Lr.startDictionaryEncoding(e),Lr.addId(e,new Wn(t.id,0)),Lr.addIsOrdered(e,t.isOrdered),void 0!==i&&Lr.addIndexType(e,i),Lr.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return Ln.startFixedSizeBinary(e),Ln.addByteWidth(e,t.byteWidth),Ln.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return kn.startFixedSizeList(e),kn.addListSize(e,t.listSize),kn.endFixedSizeList(e)}visitMap(t,e){return En.startMap(e),En.addKeysSorted(e,t.keysSorted),En.endMap(e)}};function Kn(t){return new ns(t.count,Xn(t.columns),qn(t.columns))}function Jn(t,e){return(t.children||[]).filter(Boolean).map((t=>qi.fromJSON(t,e)))}function Xn(t){return(t||[]).reduce(((t,e)=>{return[...t,new as(e.count,(i=e.VALIDITY,(i||[]).reduce(((t,e)=>t+ +(0===e)),0))),...Xn(e.children)];var i}),[])}function qn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let i=-1,r=(t||[]).length;++i<r;){const r=t[i];r.VALIDITY&&e.push(new os(e.length,r.VALIDITY.length)),r.TYPE&&e.push(new os(e.length,r.TYPE.length)),r.OFFSET&&e.push(new os(e.length,r.OFFSET.length)),r.DATA&&e.push(new os(e.length,r.DATA.length)),e=qn(r.children,e)}return e}function Gn(t){return new Map(Object.entries(t||{}))}function Zn(t){return new Ct(t.isSigned,t.bitWidth)}function Qn(t,e){const i=t.type.name;switch(i){case"NONE":case"null":return new Nt;case"binary":return new kt;case"utf8":return new Et;case"bool":return new Rt;case"list":return new Ht((e||[])[0]);case"struct":case"struct_":return new Wt(e||[])}switch(i){case"int":{const e=t.type;return new Ct(e.isSigned,e.bitWidth)}case"floatingpoint":{const e=t.type;return new Lt(s[e.precision])}case"decimal":{const e=t.type;return new zt(e.scale,e.precision,e.bitWidth)}case"date":{const e=t.type;return new Pt(o[e.unit])}case"time":{const e=t.type;return new jt(a[e.unit],e.bitWidth)}case"timestamp":{const e=t.type;return new Vt(a[e.unit],e.timezone)}case"interval":{const e=t.type;return new $t(c[e.unit])}case"union":{const i=t.type;return new Yt(n[i.mode],i.typeIds||[],e||[])}case"fixedsizebinary":{const e=t.type;return new Kt(e.byteWidth)}case"fixedsizelist":{const i=t.type;return new Jt(i.listSize,(e||[])[0])}case"map":{const i=t.type;return new Xt((e||[])[0],i.keysSorted)}}throw new Error(`Unrecognized type: "${i}"`)}var ts=Ar,es=Nr,is=Fr;class rs{constructor(t,e,i,r){this._version=e,this._headerType=i,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength="number"===typeof t?t:t.low}static fromJSON(t,e){const i=new rs(0,r.V4,e);return i._createHeader=function(t,e){return()=>{switch(e){case l.Schema:return Xi.fromJSON(t);case l.RecordBatch:return ns.fromJSON(t);case l.DictionaryBatch:return ss.fromJSON(t)}throw new Error(`Unrecognized Message type: { name: ${l[e]}, type: ${e} }`)}}(t,e),i}static decode(t){t=new is(q(t));const e=Rn.getRootAsMessage(t),i=e.bodyLength(),r=e.version(),n=e.headerType(),s=new rs(i,r,n);return s._createHeader=function(t,e){return()=>{switch(e){case l.Schema:return Xi.decode(t.header(new Er));case l.RecordBatch:return ns.decode(t.header(new Tn),t.version());case l.DictionaryBatch:return ss.decode(t.header(new On),t.version())}throw new Error(`Unrecognized Message type: { name: ${l[e]}, type: ${e} }`)}}(e,n),s}static encode(t){const e=new es;let i=-1;return t.isSchema()?i=Xi.encode(e,t.header()):t.isRecordBatch()?i=ns.encode(e,t.header()):t.isDictionaryBatch()&&(i=ss.encode(e,t.header())),Rn.startMessage(e),Rn.addVersion(e,r.V4),Rn.addHeader(e,i),Rn.addHeaderType(e,t.headerType),Rn.addBodyLength(e,new ts(t.bodyLength,0)),Rn.finishMessageBuffer(e,Rn.endMessage(e)),e.asUint8Array()}static from(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Xi)return new rs(0,r.V4,l.Schema,t);if(t instanceof ns)return new rs(e,r.V4,l.RecordBatch,t);if(t instanceof ss)return new rs(e,r.V4,l.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===l.Schema}isRecordBatch(){return this.headerType===l.RecordBatch}isDictionaryBatch(){return this.headerType===l.DictionaryBatch}}class ns{constructor(t,e,i){this._nodes=e,this._buffers=i,this._length="number"===typeof t?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class ss{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._data=t,this._isDelta=i,this._id="number"===typeof e?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class os{constructor(t,e){this.offset="number"===typeof t?t:t.low,this.length="number"===typeof e?e:e.low}}class as{constructor(t,e){this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof e?e:e.low}}function cs(t,e){const i=[];for(let r,n=-1,s=-1,o=t.childrenLength();++n<o;)(r=t.children(n))&&(i[++s]=qi.decode(r,e));return i}function ls(t){const e=new Map;if(t)for(let i,r,n=-1,s=Math.trunc(t.customMetadataLength());++n<s;)(i=t.customMetadata(n))&&null!=(r=i.key())&&e.set(r,i.value());return e}function hs(t){return new Ct(t.isSigned(),t.bitWidth())}function us(t,e){const i=t.typeType();switch(i){case Mr.NONE:case Mr.Null:return new Nt;case Mr.Binary:return new kt;case Mr.Utf8:return new Et;case Mr.Bool:return new Rt;case Mr.List:return new Ht((e||[])[0]);case Mr.Struct_:return new Wt(e||[])}switch(i){case Mr.Int:{const e=t.type(new Ur);return new Ct(e.isSigned(),e.bitWidth())}case Mr.FloatingPoint:{const e=t.type(new xn);return new Lt(e.precision())}case Mr.Decimal:{const e=t.type(new Dn);return new zt(e.scale(),e.precision(),e.bitWidth())}case Mr.Date:{const e=t.type(new Mn);return new Pt(e.unit())}case Mr.Time:{const e=t.type(new Fn);return new jt(e.unit(),e.bitWidth())}case Mr.Timestamp:{const e=t.type(new Nn);return new Vt(e.unit(),e.timezone())}case Mr.Interval:{const e=t.type(new Cn);return new $t(e.unit())}case Mr.Union:{const i=t.type(new Un);return new Yt(i.mode(),i.typeIdsArray()||[],e||[])}case Mr.FixedSizeBinary:{const e=t.type(new Ln);return new Kt(e.byteWidth())}case Mr.FixedSizeList:{const i=t.type(new kn);return new Jt(i.listSize(),(e||[])[0])}case Mr.Map:{const i=t.type(new En);return new Xt((e||[])[0],i.keysSorted())}}throw new Error(`Unrecognized type: "${Mr[i]}" (${i})`)}qi.encode=function(t,e){let i=-1,r=-1,n=-1;const s=e.type;let o=e.typeId;Ft.isDictionary(s)?(o=s.dictionary.typeId,n=Yn.visit(s,t),r=Yn.visit(s.dictionary,t)):r=Yn.visit(s,t);const a=(s.children||[]).map((e=>qi.encode(t,e))),c=kr.createChildrenVector(t,a),l=e.metadata&&e.metadata.size>0?kr.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,r]=e;const n=t.createString(`${i}`),s=t.createString(`${r}`);return Cr.startKeyValue(t),Cr.addKey(t,n),Cr.addValue(t,s),Cr.endKeyValue(t)}))):-1;e.name&&(i=t.createString(e.name));kr.startField(t),kr.addType(t,r),kr.addTypeType(t,o),kr.addChildren(t,c),kr.addNullable(t,!!e.nullable),-1!==i&&kr.addName(t,i);-1!==n&&kr.addDictionary(t,n);-1!==l&&kr.addCustomMetadata(t,l);return kr.endField(t)},qi.decode=function(t,e){let i,r,n,s,o,a;e&&(a=t.dictionary())?e.has(i=a.id().low)?(s=(s=a.indexType())?hs(s):new Ut,o=new Zt(e.get(i),s,i,a.isOrdered()),r=new qi(t.name(),o,t.nullable(),ls(t))):(s=(s=a.indexType())?hs(s):new Ut,e.set(i,n=us(t,cs(t,e))),o=new Zt(n,s,i,a.isOrdered()),r=new qi(t.name(),o,t.nullable(),ls(t))):(n=us(t,cs(t,e)),r=new qi(t.name(),n,t.nullable(),ls(t)));return r||null},qi.fromJSON=function(t,e){let i,r,n,s,o,a;return e&&(s=t.dictionary)?e.has(i=s.id)?(r=(r=s.indexType)?Zn(r):new Ut,a=new Zt(e.get(i),r,i,s.isOrdered),n=new qi(t.name,a,t.nullable,Gn(t.customMetadata))):(r=(r=s.indexType)?Zn(r):new Ut,e.set(i,o=Qn(t,Jn(t,e))),a=new Zt(o,r,i,s.isOrdered),n=new qi(t.name,a,t.nullable,Gn(t.customMetadata))):(o=Qn(t,Jn(t,e)),n=new qi(t.name,o,t.nullable,Gn(t.customMetadata))),n||null},Xi.encode=function(t,e){const i=e.fields.map((e=>qi.encode(t,e)));Er.startFieldsVector(t,i.length);const r=Er.createFieldsVector(t,i),n=e.metadata&&e.metadata.size>0?Er.createCustomMetadataVector(t,[...e.metadata].map((e=>{let[i,r]=e;const n=t.createString(`${i}`),s=t.createString(`${r}`);return Cr.startKeyValue(t),Cr.addKey(t,n),Cr.addValue(t,s),Cr.endKeyValue(t)}))):-1;Er.startSchema(t),Er.addFields(t,r),Er.addEndianness(t,ds?xr.Little:xr.Big),-1!==n&&Er.addCustomMetadata(t,n);return Er.endSchema(t)},Xi.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;const i=function(t,e){const i=[];for(let r,n=-1,s=-1,o=t.fieldsLength();++n<o;)(r=t.fields(n))&&(i[++s]=qi.decode(r,e));return i}(t,e);return new Xi(i,ls(t),e)},Xi.fromJSON=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Xi(function(t,e){return(t.fields||[]).filter(Boolean).map((t=>qi.fromJSON(t,e)))}(t,e),Gn(t.customMetadata),e)},ns.encode=function(t,e){const i=e.nodes||[],r=e.buffers||[];Tn.startNodesVector(t,i.length);for(const o of i.slice().reverse())as.encode(t,o);const n=t.endVector();Tn.startBuffersVector(t,r.length);for(const o of r.slice().reverse())os.encode(t,o);const s=t.endVector();return Tn.startRecordBatch(t),Tn.addLength(t,new ts(e.length,0)),Tn.addNodes(t,n),Tn.addBuffers(t,s),Tn.endRecordBatch(t)},ns.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.V4;if(null!==t.compression())throw new Error("Record batch compression not implemented");return new ns(t.length(),function(t){const e=[];for(let i,r=-1,n=-1,s=t.nodesLength();++r<s;)(i=t.nodes(r))&&(e[++n]=as.decode(i));return e}(t),function(t,e){const i=[];for(let n,s=-1,o=-1,a=t.buffersLength();++s<a;)(n=t.buffers(s))&&(e<r.V4&&(n.bb_pos+=8*(s+1)),i[++o]=os.decode(n));return i}(t,e))},ns.fromJSON=Kn,ss.encode=function(t,e){const i=ns.encode(t,e.data);return On.startDictionaryBatch(t),On.addId(t,new ts(e.id,0)),On.addIsDelta(t,e.isDelta),On.addData(t,i),On.endDictionaryBatch(t)},ss.decode=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.V4;return new ss(ns.decode(t.data(),e),t.id(),t.isDelta())},ss.fromJSON=function(t){return new ss(Kn(t.data),t.id,t.isDelta)},as.encode=function(t,e){return An.createFieldNode(t,new ts(e.length,0),new ts(e.nullCount,0))},as.decode=function(t){return new as(t.length(),t.nullCount())},os.encode=function(t,e){return Bn.createBuffer(t,new ts(e.offset,0),new ts(e.length,0))},os.decode=function(t){return new os(t.offset(),t.length())};const ds=(()=>{const t=new ArrayBuffer(2);return new DataView(t).setInt16(0,256,!0),256===new Int16Array(t)[0]})(),ps=t=>`Expected ${l[t]} Message in stream, but was null or length 0.`,fs=t=>`Header pointer of flatbuffer-encoded ${l[t]} Message is null or length 0.`,ys=(t,e)=>`Expected to read ${t} metadata bytes, but only read ${e}.`,bs=(t,e)=>`Expected to read ${t} bytes for message body, but only read ${e}.`;class gs{constructor(t){this.source=t instanceof tn?t:new tn(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||-1===t.value&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Xr:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ps(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=q(this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=l.Schema,i=this.readMessage(e),r=null===i||void 0===i?void 0:i.header();if(t&&!r)throw new Error(fs(e));return r}readMetadataLength(){const t=this.source.read(vs),e=t&&new Fr(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}readMetadata(t){const e=this.source.read(t);if(!e)return Xr;if(e.byteLength<t)throw new Error(ys(t,e.byteLength));return{done:!1,value:rs.decode(e)}}}class ms{constructor(t,e){this.source=t instanceof en?t:x(t)?new on(t,e):new en(t)}[Symbol.asyncIterator](){return this}next(){return L(this,void 0,void 0,(function*(){let t;return(t=yield this.readMetadataLength()).done||-1===t.value&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Xr:t}))}throw(t){return L(this,void 0,void 0,(function*(){return yield this.source.throw(t)}))}return(t){return L(this,void 0,void 0,(function*(){return yield this.source.return(t)}))}readMessage(t){return L(this,void 0,void 0,(function*(){let e;if((e=yield this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ps(t));return e.value}))}readMessageBody(t){return L(this,void 0,void 0,(function*(){if(t<=0)return new Uint8Array(0);const e=q(yield this.source.read(t));if(e.byteLength<t)throw new Error(bs(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}))}readSchema(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return L(this,void 0,void 0,(function*(){const e=l.Schema,i=yield this.readMessage(e),r=null===i||void 0===i?void 0:i.header();if(t&&!r)throw new Error(fs(e));return r}))}readMetadataLength(){return L(this,void 0,void 0,(function*(){const t=yield this.source.read(vs),e=t&&new Fr(t),i=(null===e||void 0===e?void 0:e.readInt32(0))||0;return{done:0===i,value:i}}))}readMetadata(t){return L(this,void 0,void 0,(function*(){const e=yield this.source.read(t);if(!e)return Xr;if(e.byteLength<t)throw new Error(ys(t,e.byteLength));return{done:!1,value:rs.decode(e)}}))}}class _s extends gs{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof qr?t:new qr(t)}next(){const{_json:t}=this;if(!this._schema){this._schema=!0;return{done:!1,value:rs.fromJSON(t.schema,l.Schema)}}if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];this._body=e.data.columns;return{done:!1,value:rs.fromJSON(e,l.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];this._body=e.columns;return{done:!1,value:rs.fromJSON(e,l.RecordBatch)}}return this._body=[],Xr}readMessageBody(t){return function t(e){return(e||[]).reduce(((e,i)=>[...e,...i.VALIDITY&&[i.VALIDITY]||[],...i.TYPE&&[i.TYPE]||[],...i.OFFSET&&[i.OFFSET]||[],...i.DATA&&[i.DATA]||[],...t(i.children)]),[])}(this._body)}readMessage(t){let e;if((e=this.next()).done)return null;if(null!=t&&e.value.headerType!==t)throw new Error(ps(t));return e.value}readSchema(){const t=l.Schema,e=this.readMessage(t),i=null===e||void 0===e?void 0:e.header();if(!e||!i)throw new Error(fs(t));return i}}const vs=4,ws="ARROW1",Ss=new Uint8Array(6);for(let rl=0;rl<6;rl+=1)Ss[rl]=ws.codePointAt(rl);function Is(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let i=-1,r=Ss.length;++i<r;)if(Ss[i]!==t[e+i])return!1;return!0}const Bs=Ss.length,As=Bs+vs,Ts=2*Bs+vs;class Os extends Gr{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return I(e)?e.then((()=>this)):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Wr.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Wr.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Os?t:T(t)?function(t){return new xs(new Es(t))}(t):x(t)?function(t){return L(this,void 0,void 0,(function*(){const{size:e}=yield t.stat(),i=new on(t,e);return e>=Ts&&Is(yield i.readAt(0,Bs+7&-8))?new Fs(new ks(i)):new Ds(new Us(i))}))}(t):I(t)?(()=>L(this,void 0,void 0,(function*(){return yield Os.from(yield t)})))():D(t)||F(t)||N(t)||A(t)?function(t){return L(this,void 0,void 0,(function*(){const e=yield t.peek(Bs+7&-8);return e&&e.byteLength>=4?Is(e)?new Ms(new Ls(yield t.read())):new Ds(new Us(t)):new Ds(new Us(function(){return R(this,arguments,(function*(){}))}()))}))}(new en(t)):function(t){const e=t.peek(Bs+7&-8);return e&&e.byteLength>=4?Is(e)?new Ms(new Ls(t.read())):new xs(new Cs(t)):new xs(new Cs(function*(){}()))}(new tn(t))}static readAll(t){return t instanceof Os?t.isSync()?zs(t):Ps(t):T(t)||ArrayBuffer.isView(t)||B(t)||O(t)?zs(t):Ps(t)}}class xs extends Os{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return R(this,arguments,(function*(){yield E(yield*z(P(this[Symbol.iterator]())))}))}}class Ds extends Os{constructor(t){super(t),this._impl=t}readAll(){var t,e;return L(this,void 0,void 0,(function*(){const i=new Array;try{for(var r,n=P(this);!(r=yield n.next()).done;){const t=r.value;i.push(t)}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&(yield e.call(n))}finally{if(t)throw t.error}}return i}))}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Ms extends xs{constructor(t){super(t),this._impl=t}}class Fs extends Ds{constructor(t){super(t),this._impl=t}}class Ns{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const i=this._loadVectors(t,e,this.schema.fields),r=Ji({type:new Wt(this.schema.fields),length:t.length,children:i});return new pr(this.schema,r)}_loadDictionaryBatch(t,e){const{id:i,isDelta:r}=t,{dictionaries:n,schema:s}=this,o=n.get(i);if(r||!o){const n=s.dictionaries.get(i),a=this._loadVectors(t.data,e,[n]);return(o&&r?o.concat(new Hi(a)):new Hi(a)).memoize()}return o.memoize()}_loadVectors(t,e,i){return new pn(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}class Cs extends Ns{constructor(t,e){super(e),this._reader=T(t)?new _s(this._handle=t):new gs(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Rs(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Xr}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Xr}next(){if(this.closed)return Xr;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),r=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),r=e.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,n)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new br(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Us extends Ns{constructor(t,e){super(e),this._reader=new ms(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return L(this,void 0,void 0,(function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}))}open(t){return L(this,void 0,void 0,(function*(){return this.closed||(this.autoDestroy=Rs(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this}))}throw(t){return L(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Xr}))}return(t){return L(this,void 0,void 0,(function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Xr}))}next(){return L(this,void 0,void 0,(function*(){if(this.closed)return Xr;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else{if(t.isRecordBatch()){this._recordBatchIndex++;const i=t.header(),r=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(i,r)}}if(t.isDictionaryBatch()){this._dictionaryIndex++;const i=t.header(),r=yield e.readMessageBody(t.bodyLength),n=this._loadDictionaryBatch(i,r);this.dictionaries.set(i.id,n)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new br(this.schema)}):yield this.return()}))}_readNextMessageAndValidate(t){return L(this,void 0,void 0,(function*(){return yield this._reader.readMessage(t)}))}}class Ls extends Cs{constructor(t,e){super(t instanceof sn?t:new sn(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(l.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}_readDictionaryBatch(t){var e;const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&this._handle.seek(i.offset)){const t=this._reader.readMessage(l.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,r)}}}_readFooter(){const{_handle:t}=this,e=t.size-As,i=t.readInt32(e),r=t.readAt(e-i,i);return Vr.decode(r)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(this._recordBatchIndex);if(i&&this._handle.seek(i.offset))return this._reader.readMessage(t)}return null}}class ks extends Us{constructor(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];const n="number"!==typeof i[0]?i.shift():void 0,s=i[0]instanceof Map?i.shift():void 0;super(t instanceof on?t:new on(t,n),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return L(this,void 0,void 0,(function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)}))}readRecordBatch(t){var e;return L(this,void 0,void 0,(function*(){if(this.closed)return null;this._footer||(yield this.open());const i=null===(e=this._footer)||void 0===e?void 0:e.getRecordBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(l.RecordBatch);if(null===t||void 0===t?void 0:t.isRecordBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength);return this._loadRecordBatch(e,i)}}return null}))}_readDictionaryBatch(t){var e;return L(this,void 0,void 0,(function*(){const i=null===(e=this._footer)||void 0===e?void 0:e.getDictionaryBatch(t);if(i&&(yield this._handle.seek(i.offset))){const t=yield this._reader.readMessage(l.DictionaryBatch);if(null===t||void 0===t?void 0:t.isDictionaryBatch()){const e=t.header(),i=yield this._reader.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(e,i);this.dictionaries.set(e.id,r)}}}))}_readFooter(){return L(this,void 0,void 0,(function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-As,i=yield t.readInt32(e),r=yield t.readAt(e-i,i);return Vr.decode(r)}))}_readNextMessageAndValidate(t){return L(this,void 0,void 0,(function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null}))}}class Es extends Cs{constructor(t,e){super(t,e)}_loadVectors(t,e,i){return new fn(e,t.nodes,t.buffers,this.dictionaries).visitMany(i)}}function Rs(t,e){return e&&"boolean"===typeof e.autoDestroy?e.autoDestroy:t.autoDestroy}function*zs(t){const e=Os.from(t);try{if(!e.open({autoDestroy:!1}).closed)do{yield e}while(!e.reset().open().closed)}finally{e.cancel()}}function Ps(t){return R(this,arguments,(function*(){const e=yield E(Os.from(t));try{if(!(yield E(e.open({autoDestroy:!1}))).closed)do{yield yield E(e)}while(!(yield E(e.reset().open())).closed)}finally{yield E(e.cancel())}}))}class js extends te{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(){const t=e=>e.flatMap((e=>Array.isArray(e)?t(e):e instanceof pr?e.data.children:e.data)),e=new js;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return e.visitMany(t(r)),e}visit(t){if(t instanceof Hi)return this.visitMany(t.data),this;const{type:e}=t;if(!Ft.isDictionary(e)){const{length:i,nullCount:r}=t;if(i>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Ft.isNull(e)||Vs.call(this,r<=0?new Uint8Array(0):Ii(t.offset,i,t.nullBitmap)),this.nodes.push(new as(i,r))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Vs(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new os(this._byteLength,e)),this._byteLength+=e,this}function $s(t){return Vs.call(this,t.values.subarray(0,t.length*t.stride))}function Hs(t){const{length:e,values:i,valueOffsets:r}=t,n=r[0],s=r[e],o=Math.min(s-n,i.byteLength-n);return Vs.call(this,tt(-r[0],e,r)),Vs.call(this,i.subarray(n,n+o)),this}function Ws(t){const{length:e,valueOffsets:i}=t;return i&&Vs.call(this,tt(i[0],e,i)),this.visit(t.children[0])}function Ys(t){return this.visitMany(t.type.children.map(((e,i)=>t.children[i])).filter(Boolean))[0]}js.prototype.visitBool=function(t){let e;return t.nullCount>=t.length?Vs.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?Vs.call(this,Ii(t.offset,t.length,e)):Vs.call(this,Bi(t.values))},js.prototype.visitInt=$s,js.prototype.visitFloat=$s,js.prototype.visitUtf8=Hs,js.prototype.visitBinary=Hs,js.prototype.visitFixedSizeBinary=$s,js.prototype.visitDate=$s,js.prototype.visitTimestamp=$s,js.prototype.visitTime=$s,js.prototype.visitDecimal=$s,js.prototype.visitList=Ws,js.prototype.visitStruct=Ys,js.prototype.visitUnion=function(t){const{type:e,length:i,typeIds:r,valueOffsets:s}=t;if(Vs.call(this,r),e.mode===n.Sparse)return Ys.call(this,t);if(e.mode===n.Dense){if(t.offset<=0)return Vs.call(this,s),Ys.call(this,t);{const n=r.reduce(((t,e)=>Math.max(t,e)),r[0]),o=new Int32Array(n+1),a=new Int32Array(n+1).fill(-1),c=new Int32Array(i),l=tt(-s[0],i,s);for(let t,e,s=-1;++s<i;)-1===(e=a[t=r[s]])&&(e=a[t]=l[t]),c[s]=l[s]-e,++o[t];Vs.call(this,c);for(let r,s=-1,h=e.children.length;++s<h;)if(r=t.children[s]){const t=e.typeIds[s],n=Math.min(i,o[t]);this.visit(r.slice(a[t],n))}}}return this},js.prototype.visitInterval=$s,js.prototype.visitFixedSizeList=Ws,js.prototype.visitMap=Ws;class Ks extends Gr{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Qr,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,S(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!==typeof t.autoDestroy||t.autoDestroy,this._writeLegacyIpcFormat="boolean"===typeof t.writeLegacyIpcFormat&&t.writeLegacyIpcFormat}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toString(t)}toUint8Array(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sink.toUint8Array(t)}writeAll(t){return I(t)?t.then((t=>this.writeAll(t))):A(t)?Gs(this,t):qs(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._sink,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t===this._sink||t instanceof Qr?this._sink=t:(this._sink=new Qr,t&&(t=>S(t)&&w(t.abort)&&w(t.getWriter)&&!M(t))(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&(t=>S(t)&&w(t.end)&&w(t.write)&&v(t.writable)&&!M(t))(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,e&&hr(e,this._schema)||(null==e?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(!this._sink)throw new Error("RecordBatchWriter is closed");if(null==t)return this.finish()&&void 0;if(t instanceof _r&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof pr&&!(e=t.schema))return this.finish()&&void 0;if(e&&!hr(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof pr?t instanceof br||this._writeRecordBatch(t):t instanceof _r?this.writeAll(t.batches):B(t)&&this.writeAll(t)}_writeMessage(t){const e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-1,i=rs.encode(t),r=i.byteLength,n=this._writeLegacyIpcFormat?4:8,s=r+n+e&~e,o=s-r-n;return t.headerType===l.RecordBatch?this._recordBatchBlocks.push(new Hr(s,t.bodyLength,this._position)):t.headerType===l.DictionaryBatch&&this._dictionaryBlocks.push(new Hr(s,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(s-n)),r>0&&this._write(i),this._writePadding(o)}_write(t){if(this._started){const e=q(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(rs.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Ss)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:i,bufferRegions:r,buffers:n}=js.assemble(t),s=new ns(t.numRows,i,r),o=rs.from(s,e);return this._writeDictionaries(t)._writeMessage(o)._writeBodyBuffers(n)}_writeDictionaryBatch(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:r,nodes:n,bufferRegions:s,buffers:o}=js.assemble(new Hi([t])),a=new ns(t.length,n,s),c=new ss(a,e,i),l=rs.from(c,r);return this._writeMessage(l)._writeBodyBuffers(o)}_writeBodyBuffers(t){let e,i,r;for(let n=-1,s=t.length;++n<s;)(e=t[n])&&(i=e.byteLength)>0&&(this._write(e),(r=(i+7&-8)-i)>0&&this._writePadding(r));return this}_writeDictionaries(t){for(let[e,i]of t.dictionaries){let t=this._dictionaryDeltaOffsets.get(e)||0;if(0===t||(i=null===i||void 0===i?void 0:i.slice(t)).length>0)for(const r of i.data)this._writeDictionaryBatch(r,e,t>0),t+=r.length}return this}}class Js extends Ks{static writeAll(t,e){const i=new Js(e);return I(t)?t.then((t=>i.writeAll(t))):A(t)?Gs(i,t):qs(i,t)}}class Xs extends Ks{static writeAll(t){const e=new Xs;return I(t)?t.then((t=>e.writeAll(t))):A(t)?Gs(e,t):qs(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=Vr.encode(new Vr(t,r.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function qs(t,e){let i=e;e instanceof _r&&(i=e.batches,t.reset(void 0,e.schema));for(const r of i)t.write(r);return t.finish()}function Gs(t,e){var i,r,n,s;return L(this,void 0,void 0,(function*(){try{for(i=P(e);!(r=yield i.next()).done;){const e=r.value;t.write(e)}}catch(o){n={error:o}}finally{try{r&&!r.done&&(s=i.return)&&(yield s.call(i))}finally{if(n)throw n.error}}return t.finish()}))}function Zs(t){const e=Os.from(t);return I(e)?e.then((t=>Zs(t))):e.isAsync()?e.readAll().then((t=>new _r(t))):new _r(e.readAll())}function Qs(t){return("stream"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stream")?Js:Xs).writeAll(t).toUint8Array(!0)}var to,eo=function(){function t(t,e,i,r){var n=this;this.getCell=function(t,e){var i=t<n.headerRows&&e<n.headerColumns,r=t>=n.headerRows&&e<n.headerColumns,s=t<n.headerRows&&e>=n.headerColumns;if(i){var o=["blank"];return e>0&&o.push("level"+t),{type:"blank",classNames:o.join(" "),content:""}}if(s)return{type:"columns",classNames:(o=["col_heading","level"+t,"col"+(c=e-n.headerColumns)]).join(" "),content:n.getContent(n.columnsTable,c,t)};if(r){o=["row_heading","level"+e,"row"+(a=t-n.headerRows)];return{type:"index",id:"T_".concat(n.uuid,"level").concat(e,"_row").concat(a),classNames:o.join(" "),content:n.getContent(n.indexTable,a,e)}}o=["data","row"+(a=t-n.headerRows),"col"+(c=e-n.headerColumns)];var a,c,l=n.styler?n.getContent(n.styler.displayValuesTable,a,c):n.getContent(n.dataTable,a,c);return{type:"data",id:"T_".concat(n.uuid,"row").concat(a,"_col").concat(c),classNames:o.join(" "),content:l}},this.getContent=function(t,e,i){var r=t.getChildAt(i);return null===r?"":n.getColumnTypeId(t,i)===h.Timestamp?n.nanosToDate(r.get(e)):r.get(e)},this.dataTable=Zs(t),this.indexTable=Zs(e),this.columnsTable=Zs(i),this.styler=r?{caption:r.caption,displayValuesTable:Zs(r.displayValues),styles:r.styles,uuid:r.uuid}:void 0}return Object.defineProperty(t.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return{data:Qs(this.dataTable),index:Qs(this.indexTable),columns:Qs(this.columnsTable)}},t.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},t.prototype.nanosToDate=function(t){return new Date(t/1e6)},t}(),io=function(){return io=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},io.apply(this,arguments)};!function(t){t.COMPONENT_READY="streamlit:componentReady",t.SET_COMPONENT_VALUE="streamlit:setComponentValue",t.SET_FRAME_HEIGHT="streamlit:setFrameHeight"}(to||(to={}));var ro=function(){function t(){}return t.API_VERSION=1,t.RENDER_EVENT="streamlit:render",t.events=new EventTarget,t.registeredMessageListener=!1,t.setComponentReady=function(){t.registeredMessageListener||(window.addEventListener("message",t.onMessageEvent),t.registeredMessageListener=!0),t.sendBackMsg(to.COMPONENT_READY,{apiVersion:t.API_VERSION})},t.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==t.lastFrameHeight&&(t.lastFrameHeight=e,t.sendBackMsg(to.SET_FRAME_HEIGHT,{height:e}))},t.setComponentValue=function(e){var i;e instanceof eo?(i="dataframe",e=e.serialize()):!function(t){var e=!1;try{e=t instanceof BigInt64Array||t instanceof BigUint64Array}catch(i){}return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array||e}(e)?e instanceof ArrayBuffer?(i="bytes",e=new Uint8Array(e)):i="json":(i="bytes",e=new Uint8Array(e.buffer)),t.sendBackMsg(to.SET_COMPONENT_VALUE,{value:e,dataType:i})},t.onMessageEvent=function(e){if(e.data.type===t.RENDER_EVENT)t.onRenderMessage(e.data)},t.onRenderMessage=function(e){var i=e.args;null==i&&(console.error("Got null args in onRenderMessage. This should never happen"),i={});var r=e.dfs&&e.dfs.length>0?t.argsDataframeToObject(e.dfs):{};i=io(io({},i),r);var n=Boolean(e.disabled),s=e.theme;s&&no(s);var o={disabled:n,args:i,theme:s},a=new CustomEvent(t.RENDER_EVENT,{detail:o});t.events.dispatchEvent(a)},t.argsDataframeToObject=function(e){var i=e.map((function(e){var i=e.key,r=e.value;return[i,t.toArrowTable(r)]}));return Object.fromEntries(i)},t.toArrowTable=function(t){var e,i=(e=t.data).data,r=e.index,n=e.columns,s=e.styler;return new eo(i,r,n,s)},t.sendBackMsg=function(t,e){window.parent.postMessage(io({isStreamlitMessage:!0,type:t},e),"*")},t}(),no=function(t){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML="\n    :root {\n      --primary-color: ".concat(t.primaryColor,";\n      --background-color: ").concat(t.backgroundColor,";\n      --secondary-background-color: ").concat(t.secondaryBackgroundColor,";\n      --text-color: ").concat(t.textColor,";\n      --font: ").concat(t.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")};var so=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();!function(t){function e(){return null!==t&&t.apply(this,arguments)||this}so(e,t),e.prototype.componentDidMount=function(){ro.setFrameHeight()},e.prototype.componentDidUpdate=function(){ro.setFrameHeight()}}(d.PureComponent);const oo=("undefined"!=typeof globalThis?globalThis:void 0)?.crypto||("undefined"!=typeof global?global:void 0)?.crypto||("undefined"!=typeof window?window:void 0)?.crypto||("undefined"!=typeof self?self:void 0)?.crypto||("undefined"!=typeof frames?frames:void 0)?.[0]?.crypto;let ao;ao=oo?t=>{const e=[];for(let i=0;i<t;i+=4)e.push(oo.getRandomValues(new Uint32Array(1))[0]);return new lo(e,t)}:t=>{const e=[],i=t=>{let e=t,i=987654321;const r=4294967295;return()=>{i=36969*(65535&i)+(i>>16)&r,e=18e3*(65535&e)+(e>>16)&r;let t=(i<<16)+e&r;return t/=4294967296,t+=.5,t*(Math.random()>.5?1:-1)}};for(let r,n=0;n<t;n+=4){const t=i(4294967296*(r||Math.random()));r=987654071*t(),e.push(4294967296*t()|0)}return new lo(e,t)};class co{static create(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this(...e)}mixIn(t){return Object.assign(this,t)}clone(){const t=new this.constructor;return Object.assign(t,this),t}}class lo extends co{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4*t.length;super();let i=t;if(i instanceof ArrayBuffer&&(i=new Uint8Array(i)),(i instanceof Int8Array||i instanceof Uint8ClampedArray||i instanceof Int16Array||i instanceof Uint16Array||i instanceof Int32Array||i instanceof Uint32Array||i instanceof Float32Array||i instanceof Float64Array)&&(i=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),i instanceof Uint8Array){const t=i.byteLength,e=[];for(let r=0;r<t;r+=1)e[r>>>2]|=i[r]<<24-r%4*8;this.words=e,this.sigBytes=t}else this.words=t,this.sigBytes=e}static random=(()=>ao)();toString(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ho).stringify(this)}concat(t){const e=this.words,i=t.words,r=this.sigBytes,n=t.sigBytes;if(this.clamp(),r%4)for(let s=0;s<n;s+=1){const t=i[s>>>2]>>>24-s%4*8&255;e[r+s>>>2]|=t<<24-(r+s)%4*8}else for(let s=0;s<n;s+=4)e[r+s>>>2]=i[s>>>2];return this.sigBytes+=n,this}clamp(){const{words:t,sigBytes:e}=this;t[e>>>2]&=4294967295<<32-e%4*8,t.length=Math.ceil(e/4)}clone(){const t=super.clone.call(this);return t.words=this.words.slice(0),t}}const ho={stringify(t){const{words:e,sigBytes:i}=t,r=[];for(let n=0;n<i;n+=1){const t=e[n>>>2]>>>24-n%4*8&255;r.push((t>>>4).toString(16)),r.push((15&t).toString(16))}return r.join("")},parse(t){const e=t.length,i=[];for(let r=0;r<e;r+=2)i[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new lo(i,e/2)}},uo={stringify(t){const{words:e,sigBytes:i}=t,r=[];for(let n=0;n<i;n+=1){const t=e[n>>>2]>>>24-n%4*8&255;r.push(String.fromCharCode(t))}return r.join("")},parse(t){const e=t.length,i=[];for(let r=0;r<e;r+=1)i[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new lo(i,e)}},po={stringify(t){try{return decodeURIComponent(escape(uo.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:t=>uo.parse(unescape(encodeURIComponent(t)))};class fo extends co{constructor(){super(),this._minBufferSize=0}reset(){this._data=new lo,this._nDataBytes=0}_append(t){let e=t;"string"===typeof e&&(e=po.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(t){let e;const{_data:i,blockSize:r}=this,n=i.words,s=i.sigBytes;let o=s/(4*r);o=t?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0);const a=o*r,c=Math.min(4*a,s);if(a){for(let t=0;t<a;t+=r)this._doProcessBlock(n,t);e=n.splice(0,a),i.sigBytes-=c}return new lo(e,c)}clone(){const t=super.clone.call(this);return t._data=this._data.clone(),t}}class yo extends fo{constructor(t){super(),this.blockSize=16,this.cfg=Object.assign(new co,t),this.reset()}static _createHelper(t){return(e,i)=>new t(i).finalize(e)}static _createHmacHelper(t){return(e,i)=>new bo(t,i).finalize(e)}reset(){super.reset.call(this),this._doReset()}update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t);return this._doFinalize()}}class bo extends co{constructor(t,e){super();const i=new t;this._hasher=i;let r=e;"string"===typeof r&&(r=po.parse(r));const n=i.blockSize,s=4*n;r.sigBytes>s&&(r=i.finalize(e)),r.clamp();const o=r.clone();this._oKey=o;const a=r.clone();this._iKey=a;const c=o.words,l=a.words;for(let h=0;h<n;h+=1)c[h]^=1549556828,l[h]^=909522486;o.sigBytes=s,a.sigBytes=s,this.reset()}reset(){const t=this._hasher;t.reset(),t.update(this._iKey)}update(t){return this._hasher.update(t),this}finalize(t){const e=this._hasher,i=e.finalize(t);e.reset();return e.finalize(this._oKey.clone().concat(i))}}const go=lo;class mo extends co{constructor(t,e){super(),this.high=t,this.low=e}}class _o extends co{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8*t.length;super(),this.words=t,this.sigBytes=e}toX32(){const t=this.words,e=t.length,i=[];for(let r=0;r<e;r+=1){const e=t[r];i.push(e.high),i.push(e.low)}return go.create(i,this.sigBytes)}clone(){const t=super.clone.call(this);t.words=this.words.slice(0);const{words:e}=t,i=e.length;for(let r=0;r<i;r+=1)e[r]=e[r].clone();return t}}const vo=(t,e,i)=>{const r=[];let n=0;for(let s=0;s<e;s+=1)if(s%4){const e=i[t.charCodeAt(s-1)]<<s%4*2|i[t.charCodeAt(s)]>>>6-s%4*2;r[n>>>2]|=e<<24-n%4*8,n+=1}return lo.create(r,n)},wo={stringify(t){const{words:e,sigBytes:i}=t,r=this._map;t.clamp();const n=[];for(let o=0;o<i;o+=3){const t=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255;for(let e=0;e<4&&o+.75*e<i;e+=1)n.push(r.charAt(t>>>6*(3-e)&63))}const s=r.charAt(64);if(s)for(;n.length%4;)n.push(s);return n.join("")},parse(t){let e=t.length;const i=this._map;let r=this._reverseMap;if(!r){this._reverseMap=[],r=this._reverseMap;for(let t=0;t<i.length;t+=1)r[i.charCodeAt(t)]=t}const n=i.charAt(64);if(n){const i=t.indexOf(n);-1!==i&&(e=i)}return vo(t,e,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},So=[];for(let rl=0;rl<64;rl+=1)So[rl]=4294967296*Math.abs(Math.sin(rl+1))|0;const Io=(t,e,i,r,n,s,o)=>{const a=t+(e&i|~e&r)+n+o;return(a<<s|a>>>32-s)+e},Bo=(t,e,i,r,n,s,o)=>{const a=t+(e&r|i&~r)+n+o;return(a<<s|a>>>32-s)+e},Ao=(t,e,i,r,n,s,o)=>{const a=t+(e^i^r)+n+o;return(a<<s|a>>>32-s)+e},To=(t,e,i,r,n,s,o)=>{const a=t+(i^(e|~r))+n+o;return(a<<s|a>>>32-s)+e};class Oo extends yo{_doReset(){this._hash=new lo([1732584193,4023233417,2562383102,271733878])}_doProcessBlock(t,e){const i=t;for(let B=0;B<16;B+=1){const r=e+B,n=t[r];i[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}const r=this._hash.words,n=i[e+0],s=i[e+1],o=i[e+2],a=i[e+3],c=i[e+4],l=i[e+5],h=i[e+6],u=i[e+7],d=i[e+8],p=i[e+9],f=i[e+10],y=i[e+11],b=i[e+12],g=i[e+13],m=i[e+14],_=i[e+15];let v=r[0],w=r[1],S=r[2],I=r[3];v=Io(v,w,S,I,n,7,So[0]),I=Io(I,v,w,S,s,12,So[1]),S=Io(S,I,v,w,o,17,So[2]),w=Io(w,S,I,v,a,22,So[3]),v=Io(v,w,S,I,c,7,So[4]),I=Io(I,v,w,S,l,12,So[5]),S=Io(S,I,v,w,h,17,So[6]),w=Io(w,S,I,v,u,22,So[7]),v=Io(v,w,S,I,d,7,So[8]),I=Io(I,v,w,S,p,12,So[9]),S=Io(S,I,v,w,f,17,So[10]),w=Io(w,S,I,v,y,22,So[11]),v=Io(v,w,S,I,b,7,So[12]),I=Io(I,v,w,S,g,12,So[13]),S=Io(S,I,v,w,m,17,So[14]),w=Io(w,S,I,v,_,22,So[15]),v=Bo(v,w,S,I,s,5,So[16]),I=Bo(I,v,w,S,h,9,So[17]),S=Bo(S,I,v,w,y,14,So[18]),w=Bo(w,S,I,v,n,20,So[19]),v=Bo(v,w,S,I,l,5,So[20]),I=Bo(I,v,w,S,f,9,So[21]),S=Bo(S,I,v,w,_,14,So[22]),w=Bo(w,S,I,v,c,20,So[23]),v=Bo(v,w,S,I,p,5,So[24]),I=Bo(I,v,w,S,m,9,So[25]),S=Bo(S,I,v,w,a,14,So[26]),w=Bo(w,S,I,v,d,20,So[27]),v=Bo(v,w,S,I,g,5,So[28]),I=Bo(I,v,w,S,o,9,So[29]),S=Bo(S,I,v,w,u,14,So[30]),w=Bo(w,S,I,v,b,20,So[31]),v=Ao(v,w,S,I,l,4,So[32]),I=Ao(I,v,w,S,d,11,So[33]),S=Ao(S,I,v,w,y,16,So[34]),w=Ao(w,S,I,v,m,23,So[35]),v=Ao(v,w,S,I,s,4,So[36]),I=Ao(I,v,w,S,c,11,So[37]),S=Ao(S,I,v,w,u,16,So[38]),w=Ao(w,S,I,v,f,23,So[39]),v=Ao(v,w,S,I,g,4,So[40]),I=Ao(I,v,w,S,n,11,So[41]),S=Ao(S,I,v,w,a,16,So[42]),w=Ao(w,S,I,v,h,23,So[43]),v=Ao(v,w,S,I,p,4,So[44]),I=Ao(I,v,w,S,b,11,So[45]),S=Ao(S,I,v,w,_,16,So[46]),w=Ao(w,S,I,v,o,23,So[47]),v=To(v,w,S,I,n,6,So[48]),I=To(I,v,w,S,u,10,So[49]),S=To(S,I,v,w,m,15,So[50]),w=To(w,S,I,v,l,21,So[51]),v=To(v,w,S,I,b,6,So[52]),I=To(I,v,w,S,a,10,So[53]),S=To(S,I,v,w,f,15,So[54]),w=To(w,S,I,v,s,21,So[55]),v=To(v,w,S,I,d,6,So[56]),I=To(I,v,w,S,_,10,So[57]),S=To(S,I,v,w,h,15,So[58]),w=To(w,S,I,v,g,21,So[59]),v=To(v,w,S,I,c,6,So[60]),I=To(I,v,w,S,y,10,So[61]),S=To(S,I,v,w,o,15,So[62]),w=To(w,S,I,v,p,21,So[63]),r[0]=r[0]+v|0,r[1]=r[1]+w|0,r[2]=r[2]+S|0,r[3]=r[3]+I|0}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32;const n=Math.floor(i/4294967296),s=i;e[15+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e[14+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(e.length+1),this._process();const o=this._hash,a=o.words;for(let c=0;c<4;c+=1){const t=a[c];a[c]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8)}return o}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const xo=yo._createHelper(Oo),Do=yo._createHmacHelper(Oo);class Mo extends co{constructor(t){super(),this.cfg=Object.assign(new co,{keySize:4,hasher:Oo,iterations:1},t)}compute(t,e){let i;const{cfg:r}=this,n=r.hasher.create(),s=lo.create(),o=s.words,{keySize:a,iterations:c}=r;for(;o.length<a;){i&&n.update(i),i=n.update(t).finalize(e),n.reset();for(let t=1;t<c;t+=1)i=n.finalize(i),n.reset();s.concat(i)}return s.sigBytes=4*a,s}}class Fo extends fo{constructor(t,e,i){super(),this.cfg=Object.assign(new co,i),this._xformMode=t,this._key=e,this.reset()}static createEncryptor(t,e){return this.create(this._ENC_XFORM_MODE,t,e)}static createDecryptor(t,e){return this.create(this._DEC_XFORM_MODE,t,e)}static _createHelper(t){const e=t=>"string"===typeof t?Vo:Po;return{encrypt:(i,r,n)=>e(r).encrypt(t,i,r,n),decrypt:(i,r,n)=>e(r).decrypt(t,i,r,n)}}reset(){super.reset.call(this),this._doReset()}process(t){return this._append(t),this._process()}finalize(t){t&&this._append(t);return this._doFinalize()}}Fo._ENC_XFORM_MODE=1,Fo._DEC_XFORM_MODE=2,Fo.keySize=4,Fo.ivSize=4;class No extends Fo{constructor(){super(...arguments),this.blockSize=1}_doFinalize(){return this._process(!0)}}class Co extends co{constructor(t,e){super(),this._cipher=t,this._iv=e}static createEncryptor(t,e){return this.Encryptor.create(t,e)}static createDecryptor(t,e){return this.Decryptor.create(t,e)}}function Uo(t,e,i){const r=t;let n;const s=this._iv;s?(n=s,this._iv=void 0):n=this._prevBlock;for(let o=0;o<i;o+=1)r[e+o]^=n[o]}class Lo extends Co{}Lo.Encryptor=class extends Lo{processBlock(t,e){const i=this._cipher,{blockSize:r}=i;Uo.call(this,t,e,r),i.encryptBlock(t,e),this._prevBlock=t.slice(e,e+r)}},Lo.Decryptor=class extends Lo{processBlock(t,e){const i=this._cipher,{blockSize:r}=i,n=t.slice(e,e+r);i.decryptBlock(t,e),Uo.call(this,t,e,r),this._prevBlock=n}};const ko={pad(t,e){const i=4*e,r=i-t.sigBytes%i,n=r<<24|r<<16|r<<8|r,s=[];for(let a=0;a<r;a+=4)s.push(n);const o=lo.create(s,r);t.concat(o)},unpad(t){const e=t,i=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=i}};class Eo extends Fo{constructor(t,e,i){super(t,e,Object.assign({mode:Lo,padding:ko},i)),this.blockSize=4}reset(){let t;super.reset.call(this);const{cfg:e}=this,{iv:i,mode:r}=e;this._xformMode===this.constructor._ENC_XFORM_MODE?t=r.createEncryptor:(t=r.createDecryptor,this._minBufferSize=1),this._mode=t.call(r,this,i&&i.words),this._mode.__creator=t}_doProcessBlock(t,e){this._mode.processBlock(t,e)}_doFinalize(){let t;const{padding:e}=this.cfg;return this._xformMode===this.constructor._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t}}class Ro extends co{constructor(t){super(),this.mixIn(t)}toString(t){return(t||this.formatter).stringify(this)}}const zo={stringify(t){let e;const{ciphertext:i,salt:r}=t;return e=r?lo.create([1398893684,1701076831]).concat(r).concat(i):i,e.toString(wo)},parse(t){let e;const i=wo.parse(t),r=i.words;return 1398893684===r[0]&&1701076831===r[1]&&(e=lo.create(r.slice(2,4)),r.splice(0,4),i.sigBytes-=16),Ro.create({ciphertext:i,salt:e})}};class Po extends co{static encrypt(t,e,i,r){const n=Object.assign(new co,this.cfg,r),s=t.createEncryptor(i,n),o=s.finalize(e),a=s.cfg;return Ro.create({ciphertext:o,key:i,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:s.blockSize,formatter:n.format})}static decrypt(t,e,i,r){let n=e;const s=Object.assign(new co,this.cfg,r);n=this._parse(n,s.format);return t.createDecryptor(i,s).finalize(n.ciphertext)}static _parse(t,e){return"string"===typeof t?e.parse(t,this):t}}Po.cfg=Object.assign(new co,{format:zo});const jo={execute(t,e,i,r,n){let s,o=r;o||(o=lo.random(8)),s=n?Mo.create({keySize:e+i,hasher:n}).compute(t,o):Mo.create({keySize:e+i}).compute(t,o);const a=lo.create(s.words.slice(e),4*i);return s.sigBytes=4*e,Ro.create({key:s,iv:a,salt:o})}};class Vo extends Po{static encrypt(t,e,i,r){const n=Object.assign(new co,this.cfg,r),s=n.kdf.execute(i,t.keySize,t.ivSize,n.salt,n.hasher);n.iv=s.iv;const o=Po.encrypt.call(this,t,e,s.key,n);return o.mixIn(s),o}static decrypt(t,e,i,r){let n=e;const s=Object.assign(new co,this.cfg,r);n=this._parse(n,s.format);const o=s.kdf.execute(i,t.keySize,t.ivSize,n.salt,s.hasher);s.iv=o.iv;return Po.decrypt.call(this,t,n,o.key,s)}}Vo.cfg=Object.assign(Po.cfg,{kdf:jo});const $o=t=>t<<8&4278255360|t>>>8&16711935,Ho={stringify(t){const{words:e,sigBytes:i}=t,r=[];for(let n=0;n<i;n+=2){const t=e[n>>>2]>>>16-n%4*8&65535;r.push(String.fromCharCode(t))}return r.join("")},parse(t){const e=t.length,i=[];for(let r=0;r<e;r+=1)i[r>>>1]|=t.charCodeAt(r)<<16-r%2*16;return lo.create(i,2*e)}},Wo=Ho,Yo={stringify(t){const{words:e,sigBytes:i}=t,r=[];for(let n=0;n<i;n+=2){const t=$o(e[n>>>2]>>>16-n%4*8&65535);r.push(String.fromCharCode(t))}return r.join("")},parse(t){const e=t.length,i=[];for(let r=0;r<e;r+=1)i[r>>>1]|=$o(t.charCodeAt(r)<<16-r%2*16);return lo.create(i,2*e)}},Ko={stringify(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{words:i,sigBytes:r}=t,n=e?this._safeMap:this._map;t.clamp();const s=[];for(let a=0;a<r;a+=3){const t=(i[a>>>2]>>>24-a%4*8&255)<<16|(i[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|i[a+2>>>2]>>>24-(a+2)%4*8&255;for(let e=0;e<4&&a+.75*e<r;e+=1)s.push(n.charAt(t>>>6*(3-e)&63))}const o=n.charAt(64);if(o)for(;s.length%4;)s.push(o);return s.join("")},parse(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.length;const r=e?this._safeMap:this._map;let n=this._reverseMap;if(!n){this._reverseMap=[],n=this._reverseMap;for(let t=0;t<r.length;t+=1)n[r.charCodeAt(t)]=t}const s=r.charAt(64);if(s){const e=t.indexOf(s);-1!==e&&(i=e)}return vo(t,i,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safeMap:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},Jo=[];class Xo extends yo{_doReset(){this._hash=new lo([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(t,e){const i=this._hash.words;let r=i[0],n=i[1],s=i[2],o=i[3],a=i[4];for(let c=0;c<80;c+=1){if(c<16)Jo[c]=0|t[e+c];else{const t=Jo[c-3]^Jo[c-8]^Jo[c-14]^Jo[c-16];Jo[c]=t<<1|t>>>31}let i=(r<<5|r>>>27)+a+Jo[c];i+=c<20?1518500249+(n&s|~n&o):c<40?1859775393+(n^s^o):c<60?(n&s|n&o|s&o)-1894007588:(n^s^o)-899497514,a=o,o=s,s=n<<30|n>>>2,n=r,r=i}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const qo=yo._createHelper(Xo),Go=yo._createHmacHelper(Xo),Zo=[],Qo=[],ta=t=>{const e=Math.sqrt(t);for(let i=2;i<=e;i+=1)if(!(t%i))return!1;return!0},ea=t=>4294967296*(t-(0|t))|0;let ia=2,ra=0;for(;ra<64;)ta(ia)&&(ra<8&&(Zo[ra]=ea(ia**.5)),Qo[ra]=ea(ia**(1/3)),ra+=1),ia+=1;const na=[];class sa extends yo{_doReset(){this._hash=new lo(Zo.slice(0))}_doProcessBlock(t,e){const i=this._hash.words;let r=i[0],n=i[1],s=i[2],o=i[3],a=i[4],c=i[5],l=i[6],h=i[7];for(let u=0;u<64;u+=1){if(u<16)na[u]=0|t[e+u];else{const t=na[u-15],e=(t<<25|t>>>7)^(t<<14|t>>>18)^t>>>3,i=na[u-2],r=(i<<15|i>>>17)^(i<<13|i>>>19)^i>>>10;na[u]=e+na[u-7]+r+na[u-16]}const i=r&n^r&s^n&s,d=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),p=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&l)+Qo[u]+na[u];h=l,l=c,c=a,a=o+p|0,o=s,s=n,n=r,r=p+(d+i)|0}i[0]=i[0]+r|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0,i[5]=i[5]+c|0,i[6]=i[6]+l|0,i[7]=i[7]+h|0}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(r+64>>>9<<4)]=i,t.sigBytes=4*e.length,this._process(),this._hash}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const oa=yo._createHelper(sa),aa=yo._createHmacHelper(sa);class ca extends sa{_doReset(){this._hash=new lo([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])}_doFinalize(){const t=super._doFinalize.call(this);return t.sigBytes-=4,t}}const la=sa._createHelper(ca),ha=sa._createHmacHelper(ca),ua=[new mo(1116352408,3609767458),new mo(1899447441,602891725),new mo(3049323471,3964484399),new mo(3921009573,2173295548),new mo(961987163,4081628472),new mo(1508970993,3053834265),new mo(2453635748,2937671579),new mo(2870763221,3664609560),new mo(3624381080,2734883394),new mo(310598401,1164996542),new mo(607225278,1323610764),new mo(1426881987,3590304994),new mo(1925078388,4068182383),new mo(2162078206,991336113),new mo(2614888103,633803317),new mo(3248222580,3479774868),new mo(3835390401,2666613458),new mo(4022224774,944711139),new mo(264347078,2341262773),new mo(604807628,2007800933),new mo(770255983,1495990901),new mo(1249150122,1856431235),new mo(1555081692,3175218132),new mo(1996064986,2198950837),new mo(2554220882,3999719339),new mo(2821834349,766784016),new mo(2952996808,2566594879),new mo(3210313671,3203337956),new mo(3336571891,1034457026),new mo(3584528711,2466948901),new mo(113926993,3758326383),new mo(338241895,168717936),new mo(666307205,1188179964),new mo(773529912,1546045734),new mo(1294757372,1522805485),new mo(1396182291,2643833823),new mo(1695183700,2343527390),new mo(1986661051,1014477480),new mo(2177026350,1206759142),new mo(2456956037,344077627),new mo(2730485921,1290863460),new mo(2820302411,3158454273),new mo(3259730800,3505952657),new mo(3345764771,106217008),new mo(3516065817,3606008344),new mo(3600352804,1432725776),new mo(4094571909,1467031594),new mo(275423344,851169720),new mo(430227734,3100823752),new mo(506948616,1363258195),new mo(659060556,3750685593),new mo(883997877,3785050280),new mo(958139571,3318307427),new mo(1322822218,3812723403),new mo(1537002063,2003034995),new mo(1747873779,3602036899),new mo(1955562222,1575990012),new mo(2024104815,1125592928),new mo(2227730452,2716904306),new mo(2361852424,442776044),new mo(2428436474,593698344),new mo(2756734187,3733110249),new mo(3204031479,2999351573),new mo(3329325298,3815920427),new mo(3391569614,3928383900),new mo(3515267271,566280711),new mo(3940187606,3454069534),new mo(4118630271,4000239992),new mo(116418474,1914138554),new mo(174292421,2731055270),new mo(289380356,3203993006),new mo(460393269,320620315),new mo(685471733,587496836),new mo(852142971,1086792851),new mo(1017036298,365543100),new mo(1126000580,2618297676),new mo(1288033470,3409855158),new mo(1501505948,4234509866),new mo(1607167915,987167468),new mo(1816402316,1246189591)],da=[];for(let rl=0;rl<80;rl+=1)da[rl]=new mo;class pa extends yo{constructor(){super(),this.blockSize=32}_doReset(){this._hash=new _o([new mo(1779033703,4089235720),new mo(3144134277,2227873595),new mo(1013904242,4271175723),new mo(2773480762,1595750129),new mo(1359893119,2917565137),new mo(2600822924,725511199),new mo(528734635,4215389547),new mo(1541459225,327033209)])}_doProcessBlock(t,e){const i=this._hash.words,r=i[0],n=i[1],s=i[2],o=i[3],a=i[4],c=i[5],l=i[6],h=i[7],u=r.high;let d=r.low;const p=n.high;let f=n.low;const y=s.high;let b=s.low;const g=o.high;let m=o.low;const _=a.high;let v=a.low;const w=c.high;let S=c.low;const I=l.high;let B=l.low;const A=h.high;let T=h.low,O=u,x=d,D=p,M=f,F=y,N=b,C=g,U=m,L=_,k=v,E=w,R=S,z=I,P=B,j=A,V=T;for(let $=0;$<80;$+=1){let i,r;const n=da[$];if($<16)n.high=0|t[e+2*$],r=n.high,n.low=0|t[e+2*$+1],i=n.low;else{const t=da[$-15],e=t.high,s=t.low,o=(e>>>1|s<<31)^(e>>>8|s<<24)^e>>>7,a=(s>>>1|e<<31)^(s>>>8|e<<24)^(s>>>7|e<<25),c=da[$-2],l=c.high,h=c.low,u=(l>>>19|h<<13)^(l<<3|h>>>29)^l>>>6,d=(h>>>19|l<<13)^(h<<3|l>>>29)^(h>>>6|l<<26),p=da[$-7],f=p.high,y=p.low,b=da[$-16],g=b.high,m=b.low;i=a+y,r=o+f+(i>>>0<a>>>0?1:0),i+=d,r=r+u+(i>>>0<d>>>0?1:0),i+=m,r=r+g+(i>>>0<m>>>0?1:0),n.high=r,n.low=i}const s=L&E^~L&z,o=k&R^~k&P,a=O&D^O&F^D&F,c=x&M^x&N^M&N,l=(O>>>28|x<<4)^(O<<30|x>>>2)^(O<<25|x>>>7),h=(x>>>28|O<<4)^(x<<30|O>>>2)^(x<<25|O>>>7),u=(L>>>14|k<<18)^(L>>>18|k<<14)^(L<<23|k>>>9),d=(k>>>14|L<<18)^(k>>>18|L<<14)^(k<<23|L>>>9),p=ua[$],f=p.high,y=p.low;let b=V+d,g=j+u+(b>>>0<V>>>0?1:0);b+=o,g=g+s+(b>>>0<o>>>0?1:0),b+=y,g=g+f+(b>>>0<y>>>0?1:0),b+=i,g=g+r+(b>>>0<i>>>0?1:0);const m=h+c;j=z,V=P,z=E,P=R,E=L,R=k,k=U+b|0,L=C+g+(k>>>0<U>>>0?1:0)|0,C=F,U=N,F=D,N=M,D=O,M=x,x=b+m|0,O=g+(l+a+(m>>>0<h>>>0?1:0))+(x>>>0<b>>>0?1:0)|0}r.low=d+x,d=r.low,r.high=u+O+(d>>>0<x>>>0?1:0),n.low=f+M,f=n.low,n.high=p+D+(f>>>0<M>>>0?1:0),s.low=b+N,b=s.low,s.high=y+F+(b>>>0<N>>>0?1:0),o.low=m+U,m=o.low,o.high=g+C+(m>>>0<U>>>0?1:0),a.low=v+k,v=a.low,a.high=_+L+(v>>>0<k>>>0?1:0),c.low=S+R,S=c.low,c.high=w+E+(S>>>0<R>>>0?1:0),l.low=B+P,B=l.low,l.high=I+z+(B>>>0<P>>>0?1:0),h.low=T+V,T=h.low,h.high=A+j+(T>>>0<V>>>0?1:0)}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(i/4294967296),e[31+(r+128>>>10<<5)]=i,t.sigBytes=4*e.length,this._process();return this._hash.toX32()}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const fa=yo._createHelper(pa),ya=yo._createHmacHelper(pa);class ba extends pa{_doReset(){this._hash=new _o([new mo(3418070365,3238371032),new mo(1654270250,914150663),new mo(2438529370,812702999),new mo(355462360,4144912697),new mo(1731405415,4290775857),new mo(2394180231,1750603025),new mo(3675008525,1694076839),new mo(1203062813,3204075428)])}_doFinalize(){const t=super._doFinalize.call(this);return t.sigBytes-=16,t}}const ga=pa._createHelper(ba),ma=pa._createHmacHelper(ba),_a=[],va=[],wa=[];let Sa=1,Ia=0;for(let rl=0;rl<24;rl+=1){_a[Sa+5*Ia]=(rl+1)*(rl+2)/2%64;const t=(2*Sa+3*Ia)%5;Sa=Ia%5,Ia=t}for(let rl=0;rl<5;rl+=1)for(let t=0;t<5;t+=1)va[rl+5*t]=t+(2*rl+3*t)%5*5;let Ba=1;for(let rl=0;rl<24;rl+=1){let t=0,e=0;for(let i=0;i<7;i+=1){if(1&Ba){const r=(1<<i)-1;r<32?e^=1<<r:t^=1<<r-32}128&Ba?Ba=Ba<<1^113:Ba<<=1}wa[rl]=mo.create(t,e)}const Aa=[];for(let rl=0;rl<25;rl+=1)Aa[rl]=mo.create();class Ta extends yo{constructor(t){super(Object.assign({outputLength:512},t))}_doReset(){this._state=[];const t=this._state;for(let e=0;e<25;e+=1)t[e]=new mo;this.blockSize=(1600-2*this.cfg.outputLength)/32}_doProcessBlock(t,e){const i=this._state,r=this.blockSize/2;for(let n=0;n<r;n+=1){let r=t[e+2*n],s=t[e+2*n+1];r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);const o=i[n];o.high^=s,o.low^=r}for(let n=0;n<24;n+=1){for(let n=0;n<5;n+=1){let t=0,e=0;for(let s=0;s<5;s+=1){const r=i[n+5*s];t^=r.high,e^=r.low}const r=Aa[n];r.high=t,r.low=e}for(let n=0;n<5;n+=1){const t=Aa[(n+4)%5],e=Aa[(n+1)%5],r=e.high,s=e.low,o=t.high^(r<<1|s>>>31),a=t.low^(s<<1|r>>>31);for(let c=0;c<5;c+=1){const t=i[n+5*c];t.high^=o,t.low^=a}}for(let n=1;n<25;n+=1){let t,e;const r=i[n],s=r.high,o=r.low,a=_a[n];a<32?(t=s<<a|o>>>32-a,e=o<<a|s>>>32-a):(t=o<<a-32|s>>>64-a,e=s<<a-32|o>>>64-a);const c=Aa[va[n]];c.high=t,c.low=e}const t=Aa[0],e=i[0];t.high=e.high,t.low=e.low;for(let n=0;n<5;n+=1)for(let t=0;t<5;t+=1){const e=n+5*t,r=i[e],s=Aa[e],o=Aa[(n+1)%5+5*t],a=Aa[(n+2)%5+5*t];r.high=s.high^~o.high&a.high,r.low=s.low^~o.low&a.low}const r=i[0],s=wa[n];r.high^=s.high,r.low^=s.low}}_doFinalize(){const t=this._data,e=t.words,i=8*t.sigBytes,r=32*this.blockSize;e[i>>>5]|=1<<24-i%32,e[(Math.ceil((i+1)/r)*r>>>5)-1]|=128,t.sigBytes=4*e.length,this._process();const n=this._state,s=this.cfg.outputLength/8,o=s/8,a=[];for(let c=0;c<o;c+=1){const t=n[c];let e=t.high,i=t.low;e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a.push(i),a.push(e)}return new lo(a,s)}clone(){const t=super.clone.call(this);t._state=this._state.slice(0);const e=t._state;for(let i=0;i<25;i+=1)e[i]=e[i].clone();return t}}const Oa=yo._createHelper(Ta),xa=yo._createHmacHelper(Ta),Da=lo.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),Ma=lo.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),Fa=lo.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),Na=lo.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),Ca=lo.create([0,1518500249,1859775393,2400959708,2840853838]),Ua=lo.create([1352829926,1548603684,1836072691,2053994217,0]),La=(t,e,i)=>t^e^i,ka=(t,e,i)=>t&e|~t&i,Ea=(t,e,i)=>(t|~e)^i,Ra=(t,e,i)=>t&i|e&~i,za=(t,e,i)=>t^(e|~i),Pa=(t,e)=>t<<e|t>>>32-e;class ja extends yo{_doReset(){this._hash=lo.create([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(t,e){const i=t;for(let w=0;w<16;w+=1){const t=e+w,r=i[t];i[t]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}const r=this._hash.words,n=Ca.words,s=Ua.words,o=Da.words,a=Ma.words,c=Fa.words,l=Na.words;let h,u=r[0],d=r[1],p=r[2],f=r[3],y=r[4],b=r[0],g=r[1],m=r[2],_=r[3],v=r[4];for(let w=0;w<80;w+=1)h=u+i[e+o[w]]|0,h+=w<16?La(d,p,f)+n[0]:w<32?ka(d,p,f)+n[1]:w<48?Ea(d,p,f)+n[2]:w<64?Ra(d,p,f)+n[3]:za(d,p,f)+n[4],h|=0,h=Pa(h,c[w]),h=h+y|0,u=y,y=f,f=Pa(p,10),p=d,d=h,h=b+i[e+a[w]]|0,h+=w<16?za(g,m,_)+s[0]:w<32?Ra(g,m,_)+s[1]:w<48?Ea(g,m,_)+s[2]:w<64?ka(g,m,_)+s[3]:La(g,m,_)+s[4],h|=0,h=Pa(h,l[w]),h=h+v|0,b=v,v=_,_=Pa(m,10),m=g,g=h;h=r[1]+p+_|0,r[1]=r[2]+f+v|0,r[2]=r[3]+y+b|0,r[3]=r[4]+u+g|0,r[4]=r[0]+d+m|0,r[0]=h}_doFinalize(){const t=this._data,e=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();const n=this._hash,s=n.words;for(let o=0;o<5;o+=1){const t=s[o];s[o]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8)}return n}clone(){const t=super.clone.call(this);return t._hash=this._hash.clone(),t}}const Va=yo._createHelper(ja),$a=yo._createHmacHelper(ja);class Ha extends co{constructor(t){super(),this.cfg=Object.assign(new co,{keySize:4,hasher:sa,iterations:25e4},t)}compute(t,e){const{cfg:i}=this,r=bo.create(i.hasher,t),n=lo.create(),s=lo.create([1]),o=n.words,a=s.words,{keySize:c,iterations:l}=i;for(;o.length<c;){const t=r.update(e).finalize(s);r.reset();const i=t.words,o=i.length;let c=t;for(let e=1;e<l;e+=1){c=r.finalize(c),r.reset();const t=c.words;for(let e=0;e<o;e+=1)i[e]^=t[e]}n.concat(t),a[0]+=1}return n.sigBytes=4*c,n}}const Wa=[],Ya=[],Ka=[],Ja=[],Xa=[],qa=[],Ga=[],Za=[],Qa=[],tc=[],ec=[];for(let rl=0;rl<256;rl+=1)ec[rl]=rl<128?rl<<1:rl<<1^283;let ic=0,rc=0;for(let rl=0;rl<256;rl+=1){let t=rc^rc<<1^rc<<2^rc<<3^rc<<4;t=t>>>8^255&t^99,Wa[ic]=t,Ya[t]=ic;const e=ec[ic],i=ec[e],r=ec[i];let n=257*ec[t]^16843008*t;Ka[ic]=n<<24|n>>>8,Ja[ic]=n<<16|n>>>16,Xa[ic]=n<<8|n>>>24,qa[ic]=n,n=16843009*r^65537*i^257*e^16843008*ic,Ga[t]=n<<24|n>>>8,Za[t]=n<<16|n>>>16,Qa[t]=n<<8|n>>>24,tc[t]=n,ic?(ic=e^ec[ec[ec[r^e]]],rc^=ec[ec[rc]]):(rc=1,ic=rc)}const nc=[0,1,2,4,8,16,32,64,128,27,54];class sc extends Eo{_doReset(){let t;if(this._nRounds&&this._keyPriorReset===this._key)return;this._keyPriorReset=this._key;const e=this._keyPriorReset,i=e.words,r=e.sigBytes/4;this._nRounds=r+6;const n=4*(this._nRounds+1);this._keySchedule=[];const s=this._keySchedule;for(let a=0;a<n;a+=1)a<r?s[a]=i[a]:(t=s[a-1],a%r?r>6&&a%r===4&&(t=Wa[t>>>24]<<24|Wa[t>>>16&255]<<16|Wa[t>>>8&255]<<8|Wa[255&t]):(t=t<<8|t>>>24,t=Wa[t>>>24]<<24|Wa[t>>>16&255]<<16|Wa[t>>>8&255]<<8|Wa[255&t],t^=nc[a/r|0]<<24),s[a]=s[a-r]^t);this._invKeySchedule=[];const o=this._invKeySchedule;for(let a=0;a<n;a+=1){const e=n-a;t=a%4?s[e]:s[e-4],o[a]=a<4||e<=4?t:Ga[Wa[t>>>24]]^Za[Wa[t>>>16&255]]^Qa[Wa[t>>>8&255]]^tc[Wa[255&t]]}}encryptBlock(t,e){this._doCryptBlock(t,e,this._keySchedule,Ka,Ja,Xa,qa,Wa)}decryptBlock(t,e){const i=t;let r=i[e+1];i[e+1]=i[e+3],i[e+3]=r,this._doCryptBlock(i,e,this._invKeySchedule,Ga,Za,Qa,tc,Ya),r=i[e+1],i[e+1]=i[e+3],i[e+3]=r}_doCryptBlock(t,e,i,r,n,s,o,a){const c=t,l=this._nRounds;let h=c[e]^i[0],u=c[e+1]^i[1],d=c[e+2]^i[2],p=c[e+3]^i[3],f=4;for(let _=1;_<l;_+=1){const t=r[h>>>24]^n[u>>>16&255]^s[d>>>8&255]^o[255&p]^i[f];f+=1;const e=r[u>>>24]^n[d>>>16&255]^s[p>>>8&255]^o[255&h]^i[f];f+=1;const a=r[d>>>24]^n[p>>>16&255]^s[h>>>8&255]^o[255&u]^i[f];f+=1;const c=r[p>>>24]^n[h>>>16&255]^s[u>>>8&255]^o[255&d]^i[f];f+=1,h=t,u=e,d=a,p=c}const y=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&p])^i[f];f+=1;const b=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[p>>>8&255]<<8|a[255&h])^i[f];f+=1;const g=(a[d>>>24]<<24|a[p>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^i[f];f+=1;const m=(a[p>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[f];f+=1,c[e]=y,c[e+1]=b,c[e+2]=g,c[e+3]=m}}sc.keySize=8;const oc=Eo._createHelper(sc),ac=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],cc=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],lc=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],hc=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],uc=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679];function dc(t,e){const i=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=i,this._lBlock^=i<<t}function pc(t,e){const i=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=i,this._rBlock^=i<<t}class fc extends Eo{constructor(t,e,i){super(t,e,i),this.blockSize=2}_doReset(){const t=this._key.words,e=[];for(let n=0;n<56;n+=1){const i=ac[n]-1;e[n]=t[i>>>5]>>>31-i%32&1}this._subKeys=[];const i=this._subKeys;for(let n=0;n<16;n+=1){i[n]=[];const t=i[n],r=lc[n];for(let i=0;i<24;i+=1)t[i/6|0]|=e[(cc[i]-1+r)%28]<<31-i%6,t[4+(i/6|0)]|=e[28+(cc[i+24]-1+r)%28]<<31-i%6;t[0]=t[0]<<1|t[0]>>>31;for(let e=1;e<7;e+=1)t[e]>>>=4*(e-1)+3;t[7]=t[7]<<5|t[7]>>>27}this._invSubKeys=[];const r=this._invSubKeys;for(let n=0;n<16;n+=1)r[n]=i[15-n]}encryptBlock(t,e){this._doCryptBlock(t,e,this._subKeys)}decryptBlock(t,e){this._doCryptBlock(t,e,this._invSubKeys)}_doCryptBlock(t,e,i){const r=t;this._lBlock=t[e],this._rBlock=t[e+1],dc.call(this,4,252645135),dc.call(this,16,65535),pc.call(this,2,858993459),pc.call(this,8,16711935),dc.call(this,1,1431655765);for(let s=0;s<16;s+=1){const t=i[s],e=this._lBlock,r=this._rBlock;let n=0;for(let i=0;i<8;i+=1)n|=hc[i][((r^t[i])&uc[i])>>>0];this._lBlock=r,this._rBlock=e^n}const n=this._lBlock;this._lBlock=this._rBlock,this._rBlock=n,dc.call(this,1,1431655765),pc.call(this,8,16711935),pc.call(this,2,858993459),dc.call(this,16,65535),dc.call(this,4,252645135),r[e]=this._lBlock,r[e+1]=this._rBlock}}fc.keySize=2,fc.ivSize=2;const yc=Eo._createHelper(fc);class bc extends Eo{_doReset(){const t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");const e=t.slice(0,2),i=t.length<4?t.slice(0,2):t.slice(2,4),r=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=fc.createEncryptor(lo.create(e)),this._des2=fc.createEncryptor(lo.create(i)),this._des3=fc.createEncryptor(lo.create(r))}encryptBlock(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)}decryptBlock(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)}}bc.keySize=6,bc.ivSize=2;const gc=Eo._createHelper(bc),mc=[],_c=[],vc=[];function wc(){const t=this._X,e=this._C;for(let i=0;i<8;i+=1)_c[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<_c[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<_c[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<_c[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<_c[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<_c[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<_c[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<_c[6]>>>0?1:0)|0,this._b=e[7]>>>0<_c[7]>>>0?1:0;for(let i=0;i<8;i+=1){const r=t[i]+e[i],n=65535&r,s=r>>>16,o=((n*n>>>17)+n*s>>>15)+s*s,a=((4294901760&r)*r|0)+((65535&r)*r|0);vc[i]=o^a}t[0]=vc[0]+(vc[7]<<16|vc[7]>>>16)+(vc[6]<<16|vc[6]>>>16)|0,t[1]=vc[1]+(vc[0]<<8|vc[0]>>>24)+vc[7]|0,t[2]=vc[2]+(vc[1]<<16|vc[1]>>>16)+(vc[0]<<16|vc[0]>>>16)|0,t[3]=vc[3]+(vc[2]<<8|vc[2]>>>24)+vc[1]|0,t[4]=vc[4]+(vc[3]<<16|vc[3]>>>16)+(vc[2]<<16|vc[2]>>>16)|0,t[5]=vc[5]+(vc[4]<<8|vc[4]>>>24)+vc[3]|0,t[6]=vc[6]+(vc[5]<<16|vc[5]>>>16)+(vc[4]<<16|vc[4]>>>16)|0,t[7]=vc[7]+(vc[6]<<8|vc[6]>>>24)+vc[5]|0}class Sc extends No{constructor(){super(...arguments),this.blockSize=4,this.ivSize=2}_doReset(){const t=this._key.words,{iv:e}=this.cfg;for(let n=0;n<4;n+=1)t[n]=16711935&(t[n]<<8|t[n]>>>24)|4278255360&(t[n]<<24|t[n]>>>8);this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16];const i=this._X;this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];const r=this._C;this._b=0;for(let n=0;n<4;n+=1)wc.call(this);for(let n=0;n<8;n+=1)r[n]^=i[n+4&7];if(e){const t=e.words,i=t[0],n=t[1],s=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),a=s>>>16|4294901760&o,c=o<<16|65535&s;r[0]^=s,r[1]^=a,r[2]^=o,r[3]^=c,r[4]^=s,r[5]^=a,r[6]^=o,r[7]^=c;for(let e=0;e<4;e+=1)wc.call(this)}}_doProcessBlock(t,e){const i=t,r=this._X;wc.call(this),mc[0]=r[0]^r[5]>>>16^r[3]<<16,mc[1]=r[2]^r[7]>>>16^r[5]<<16,mc[2]=r[4]^r[1]>>>16^r[7]<<16,mc[3]=r[6]^r[3]>>>16^r[1]<<16;for(let n=0;n<4;n+=1)mc[n]=16711935&(mc[n]<<8|mc[n]>>>24)|4278255360&(mc[n]<<24|mc[n]>>>8),i[e+n]^=mc[n]}}const Ic=No._createHelper(Sc),Bc=[],Ac=[],Tc=[];function Oc(){const t=this._X,e=this._C;for(let i=0;i<8;i+=1)Ac[i]=e[i];e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<Ac[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<Ac[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<Ac[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<Ac[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<Ac[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<Ac[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<Ac[6]>>>0?1:0)|0,this._b=e[7]>>>0<Ac[7]>>>0?1:0;for(let i=0;i<8;i+=1){const r=t[i]+e[i],n=65535&r,s=r>>>16,o=((n*n>>>17)+n*s>>>15)+s*s,a=((4294901760&r)*r|0)+((65535&r)*r|0);Tc[i]=o^a}t[0]=Tc[0]+(Tc[7]<<16|Tc[7]>>>16)+(Tc[6]<<16|Tc[6]>>>16)|0,t[1]=Tc[1]+(Tc[0]<<8|Tc[0]>>>24)+Tc[7]|0,t[2]=Tc[2]+(Tc[1]<<16|Tc[1]>>>16)+(Tc[0]<<16|Tc[0]>>>16)|0,t[3]=Tc[3]+(Tc[2]<<8|Tc[2]>>>24)+Tc[1]|0,t[4]=Tc[4]+(Tc[3]<<16|Tc[3]>>>16)+(Tc[2]<<16|Tc[2]>>>16)|0,t[5]=Tc[5]+(Tc[4]<<8|Tc[4]>>>24)+Tc[3]|0,t[6]=Tc[6]+(Tc[5]<<16|Tc[5]>>>16)+(Tc[4]<<16|Tc[4]>>>16)|0,t[7]=Tc[7]+(Tc[6]<<8|Tc[6]>>>24)+Tc[5]|0}class xc extends No{constructor(){super(...arguments),this.blockSize=4,this.ivSize=2}_doReset(){const t=this._key.words,{iv:e}=this.cfg;this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16];const i=this._X;this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];const r=this._C;this._b=0;for(let n=0;n<4;n+=1)Oc.call(this);for(let n=0;n<8;n+=1)r[n]^=i[n+4&7];if(e){const t=e.words,i=t[0],n=t[1],s=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),o=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),a=s>>>16|4294901760&o,c=o<<16|65535&s;r[0]^=s,r[1]^=a,r[2]^=o,r[3]^=c,r[4]^=s,r[5]^=a,r[6]^=o,r[7]^=c;for(let e=0;e<4;e+=1)Oc.call(this)}}_doProcessBlock(t,e){const i=t,r=this._X;Oc.call(this),Bc[0]=r[0]^r[5]>>>16^r[3]<<16,Bc[1]=r[2]^r[7]>>>16^r[5]<<16,Bc[2]=r[4]^r[1]>>>16^r[7]<<16,Bc[3]=r[6]^r[3]>>>16^r[1]<<16;for(let n=0;n<4;n+=1)Bc[n]=16711935&(Bc[n]<<8|Bc[n]>>>24)|4278255360&(Bc[n]<<24|Bc[n]>>>8),i[e+n]^=Bc[n]}}const Dc=No._createHelper(xc);function Mc(){const t=this._S;let e=this._i,i=this._j,r=0;for(let n=0;n<4;n+=1){e=(e+1)%256,i=(i+t[e])%256;const s=t[e];t[e]=t[i],t[i]=s,r|=t[(t[e]+t[i])%256]<<24-8*n}return this._i=e,this._j=i,r}class Fc extends No{_doReset(){const t=this._key,e=t.words,i=t.sigBytes;this._S=[];const r=this._S;for(let n=0;n<256;n+=1)r[n]=n;for(let n=0,s=0;n<256;n+=1){const t=n%i,o=e[t>>>2]>>>24-t%4*8&255;s=(s+r[n]+o)%256;const a=r[n];r[n]=r[s],r[s]=a}this._j=0,this._i=this._j}_doProcessBlock(t,e){t[e]^=Mc.call(this)}}Fc.keySize=8,Fc.ivSize=0;const Nc=No._createHelper(Fc);class Cc extends Fc{constructor(){super(...arguments),Object.assign(this.cfg,{drop:192})}_doReset(){super._doReset.call(this);for(let t=this.cfg.drop;t>0;t-=1)Mc.call(this)}}const Uc=No._createHelper(Cc),Lc=16,kc=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ec=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Rc={pbox:[],sbox:[]};function zc(t,e){const i=e>>24&255,r=e>>16&255,n=e>>8&255,s=255&e;let o=t.sbox[0][i]+t.sbox[1][r];return o^=t.sbox[2][n],o+=t.sbox[3][s],o}function Pc(t,e,i){let r,n=e,s=i;for(let o=0;o<Lc;++o)n^=t.pbox[o],s=zc(t,n)^s,r=n,n=s,s=r;return r=n,n=s,s=r,s^=t.pbox[Lc],n^=t.pbox[Lc+1],{left:n,right:s}}class jc extends Eo{constructor(t,e,i){super(t,e,i),this.blockSize=2}_doReset(){if(this._keyPriorReset===this._key)return;const t=this._keyPriorReset=this._key,e=t.words,i=t.sigBytes/4;!function(t,e,i){for(let a=0;a<4;a++){t.sbox[a]=[];for(let e=0;e<256;e++)t.sbox[a][e]=Ec[a][e]}let r=0;for(let a=0;a<Lc+2;a++)t.pbox[a]=kc[a]^e[r],r++,r>=i&&(r=0);let n=0,s=0,o=0;for(let a=0;a<Lc+2;a+=2)o=Pc(t,n,s),n=o.left,s=o.right,t.pbox[a]=n,t.pbox[a+1]=s;for(let a=0;a<4;a++)for(let e=0;e<256;e+=2)o=Pc(t,n,s),n=o.left,s=o.right,t.sbox[a][e]=n,t.sbox[a][e+1]=s}(Rc,e,i)}encryptBlock(t,e){const i=Pc(Rc,t[e],t[e+1]);t[e]=i.left,t[e+1]=i.right}decryptBlock(t,e){const i=function(t,e,i){let r,n=e,s=i;for(let o=Lc+1;o>1;--o)n^=t.pbox[o],s=zc(t,n)^s,r=n,n=s,s=r;return r=n,n=s,s=r,s^=t.pbox[1],n^=t.pbox[0],{left:n,right:s}}(Rc,t[e],t[e+1]);t[e]=i.left,t[e+1]=i.right}}jc.keySize=4,jc.ivSize=2;const Vc=Eo._createHelper(jc);function $c(t,e,i,r){const n=t;let s;const o=this._iv;o?(s=o.slice(0),this._iv=void 0):s=this._prevBlock,r.encryptBlock(s,0);for(let a=0;a<i;a+=1)n[e+a]^=s[a]}class Hc extends Co{}Hc.Encryptor=class extends Hc{processBlock(t,e){const i=this._cipher,{blockSize:r}=i;$c.call(this,t,e,r,i),this._prevBlock=t.slice(e,e+r)}},Hc.Decryptor=class extends Hc{processBlock(t,e){const i=this._cipher,{blockSize:r}=i,n=t.slice(e,e+r);$c.call(this,t,e,r,i),this._prevBlock=n}};class Wc extends Co{}Wc.Encryptor=class extends Wc{processBlock(t,e){const i=t,r=this._cipher,{blockSize:n}=r,s=this._iv;let o=this._counter;s&&(this._counter=s.slice(0),o=this._counter,this._iv=void 0);const a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(let c=0;c<n;c+=1)i[e+c]^=a[c]}},Wc.Decryptor=Wc.Encryptor;const Yc=t=>{let e=t;if(255===(t>>24&255)){let i=t>>16&255,r=t>>8&255,n=255&t;255===i?(i=0,255===r?(r=0,255===n?n=0:n+=1):r+=1):i+=1,e=0,e+=i<<16,e+=r<<8,e+=n}else e+=1<<24;return e};class Kc extends Co{}Kc.Encryptor=class extends Kc{processBlock(t,e){const i=t,r=this._cipher,{blockSize:n}=r,s=this._iv;let o=this._counter;s&&(this._counter=s.slice(0),o=this._counter,this._iv=void 0),(t=>{const e=t;e[0]=Yc(e[0]),0===e[0]&&(e[1]=Yc(e[1]))})(o);const a=o.slice(0);r.encryptBlock(a,0);for(let c=0;c<n;c+=1)i[e+c]^=a[c]}},Kc.Decryptor=Kc.Encryptor;class Jc extends Co{}Jc.Encryptor=class extends Jc{processBlock(t,e){this._cipher.encryptBlock(t,e)}},Jc.Decryptor=class extends Jc{processBlock(t,e){this._cipher.decryptBlock(t,e)}};class Xc extends Co{}Xc.Encryptor=class extends Xc{processBlock(t,e){const i=t,r=this._cipher,{blockSize:n}=r,s=this._iv;let o=this._keystream;s&&(this._keystream=s.slice(0),o=this._keystream,this._iv=void 0),r.encryptBlock(o,0);for(let a=0;a<n;a+=1)i[e+a]^=o[a]}},Xc.Decryptor=Xc.Encryptor;const qc={pad(t,e){const i=t,r=i.sigBytes,n=4*e,s=n-r%n,o=r+s-1;i.clamp(),i.words[o>>>2]|=s<<24-o%4*8,i.sigBytes+=s},unpad(t){const e=t,i=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=i}},Gc={pad(t,e){const i=4*e,r=i-t.sigBytes%i;t.concat(lo.random(r-1)).concat(lo.create([r<<24],1))},unpad(t){const e=t,i=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=i}},Zc={pad(t,e){const i=t,r=4*e;i.clamp(),i.sigBytes+=r-(t.sigBytes%r||r)},unpad(t){const e=t,i=e.words;for(let r=e.sigBytes-1;r>=0;r-=1)if(i[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},Qc={pad(t,e){t.concat(lo.create([2147483648],1)),Zc.pad(t,e)},unpad(t){const e=t;Zc.unpad(e),e.sigBytes-=1}},tl={pad(){},unpad(){}},el={stringify:t=>t.ciphertext.toString(ho),parse(t){const e=ho.parse(t);return Ro.create({ciphertext:e})}},il={lib:{Base:co,WordArray:lo,BufferedBlockAlgorithm:fo,Hasher:yo,Cipher:Fo,StreamCipher:No,BlockCipherMode:Co,BlockCipher:Eo,CipherParams:Ro,SerializableCipher:Po,PasswordBasedCipher:Vo},x64:{Word:mo,WordArray:_o},enc:{Hex:ho,Latin1:uo,Utf8:po,Utf16:Wo,Utf16BE:Ho,Utf16LE:Yo,Base64:wo,Base64url:Ko},algo:{HMAC:bo,MD5:Oo,SHA1:Xo,SHA224:ca,SHA256:sa,SHA384:ba,SHA512:pa,SHA3:Ta,RIPEMD160:ja,PBKDF2:Ha,EvpKDF:Mo,AES:sc,DES:fc,TripleDES:bc,Rabbit:Sc,RabbitLegacy:xc,RC4:Fc,RC4Drop:Cc,Blowfish:jc},mode:{CBC:Lo,CFB:Hc,CTR:Wc,CTRGladman:Kc,ECB:Jc,OFB:Xc},pad:{Pkcs7:ko,AnsiX923:qc,Iso10126:Gc,Iso97971:Qc,NoPadding:tl,ZeroPadding:Zc},format:{OpenSSL:zo,Hex:el},kdf:{OpenSSL:jo},MD5:xo,HmacMD5:Do,SHA1:qo,HmacSHA1:Go,SHA224:la,HmacSHA224:ha,SHA256:oa,HmacSHA256:aa,SHA384:ga,HmacSHA384:ma,SHA512:fa,HmacSHA512:ya,SHA3:Oa,HmacSHA3:xa,RIPEMD160:Va,HmacRIPEMD160:$a,PBKDF2:(t,e,i)=>Ha.create(i).compute(t,e),EvpKDF:(t,e,i)=>Mo.create(i).compute(t,e),AES:oc,DES:yc,TripleDES:gc,Rabbit:Ic,RabbitLegacy:Dc,RC4:Nc,RC4Drop:Uc,Blowfish:Vc};ro.events.addEventListener(ro.RENDER_EVENT,(async function(t){const e=t.detail;let i=e.args.action,r=e.args.deck,n=e.args.image,s=e.args.front,o=e.args.back,a=e.args.tags,c=e.args.flashcards,l=e.args.filename;try{switch(i){case"reqPerm":await async function(){try{const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"requestPermission",version:6})});return(await t.json()).result.permission}catch(t){return!1}}();const t=await async function(){try{const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"modelNames",version:6})});if(!(await t.json()).result.includes("AnKingOverhaul")){const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"createModel",version:6,params:{modelName:"AnKingOverhaul",inOrderFields:["Text","Extra"],isCloze:!0,cardTemplates:[{Name:"Cloze",Front:"{{cloze:Text}}",Back:"{{cloze:Text}}\n\n<hr id=answer>\n\n{{Extra}}<br><br>\n\nTags: {{Tags}}"}]}})});return(await t.json()).result}}catch(t){return!1}}();ro.setComponentValue(t);break;case"addCard":const e=await async function(t,e,i,r){try{const n={deckName:t,modelName:"AnKingOverhaul",fields:{Text:e,Extra:i},options:{allowDuplicate:!1},tags:[r]},s=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"addNote",params:{note:n},version:6})});return(await s.json()).result}catch(n){throw new Error("Error: Unable to reach the server")}}(r,s,o,a);ro.setComponentValue(e);break;case"addNotes":const i=await async function(t,e){try{const i=await Promise.all(e.map((async e=>{let i={deckName:t,modelName:"AnKingOverhaul",fields:{Text:e.front,Extra:e.back},options:{allowDuplicate:!1},tags:e.tags,picture:void 0};if(e.image){let t=Date.now(),r="pdf-anki-"+il.SHA256(t.toString()).toString()+".jpg";i.picture=[{data:e.image,filename:r,fields:[]}],i.fields.Extra=e.back+`<br><img src="${r}" />`}return i}))),r=await fetch("http://localhost:8765",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"addNotes",version:6,params:{notes:i}})}),n=await r.json();if(n.error)throw new Error(n.error);return n.result}catch(i){throw new Error("Error: Unable to reach the server")}}(r,c);ro.setComponentValue(i);break;case"storeImage":const h=await async function(t,e){try{console.log("Storing image with filename:",e);const i=await fetch("http://localhost:8765",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"storeMediaFile",version:6,params:{filename:e,data:t}})}),r=await i.json();return console.log("Store Media Response:",r),r.error?(console.error(`Error storing image: ${r.error}`),ro.setComponentValue(`Error storing image: ${r.error}`),`Error storing image: ${r.error}`):(console.log(`Image successfully stored with filename: ${e}`),ro.setComponentValue(`Image successfully stored with filename: ${e}`),r.result)}catch(i){throw new Error("Error: Unable to reach the server")}}(n,l);ro.setComponentValue(h);case"addCardWithImage":const u=await async function(t,e,i,r,n){let s=Date.now(),o=il.SHA256(s.toString());try{const s={deckName:t,modelName:"AnKingOverhaul",fields:{Text:i,Extra:r},options:{allowDuplicate:!1},tags:[n],picture:[{data:e,filename:"pdf-anki-"+o+".jpg",fields:["Extra"]}]},a=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"addNotes",params:{note:s},version:6})});return(await a.json()).result}catch(a){throw new Error("Error: Unable to reach the server")}}(r,n,s,o,a);ro.setComponentValue(u);break;case"getDecks":const d=await async function(){try{const t=await fetch("http://localhost:8765",{method:"POST",body:JSON.stringify({action:"deckNames",version:6})});return(await t.json()).result}catch(t){return!1}}();ro.setComponentValue(d)}}catch(h){ro.setComponentValue("Error")}ro.setFrameHeight()})),ro.setComponentReady(),ro.setFrameHeight()})();
//# sourceMappingURL=main.9acfbc5f.js.map